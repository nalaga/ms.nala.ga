<!DOCTYPE html>
<html lang="ko-KR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <link rel="pingback" href="http://ms.nala.ga/xmlrpc.php">

<title>PWM Install | All About MS CCL Contents</title>
<meta name='robots' content='noindex,follow' />

<!-- All in One SEO Pack 2.4.4 by Michael Torbert of Semper Fi Web Design[276,328] -->
<meta name="robots" content="index,nofollow" />

<link rel="canonical" href="http://ms.nala.ga/pwm-install/" />
<!-- /all in one seo pack -->
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="All About MS CCL Contents &raquo; 피드" href="http://ms.nala.ga/feed/" />
<link rel="alternate" type="application/rss+xml" title="All About MS CCL Contents &raquo; 댓글 피드" href="http://ms.nala.ga/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/ms.nala.ga\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bootstrap-css-css'  href='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/css/bootstrap.min.css?ver=3.3.5' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css-css'  href='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/css/font-awesome.min.css?ver=4.4.0' type='text/css' media='all' />
<link rel='stylesheet' id='shaped-blog-stylesheet-css'  href='http://ms.nala.ga/wp-content/themes/shaped-blog/style.css?ver=4.8.5' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-css-css'  href='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/css/responsive.css' type='text/css' media='all' />
<script type='text/javascript' src='http://ms.nala.ga/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='http://ms.nala.ga/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ms.nala.ga/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ms.nala.ga/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='[영어 공부하기 좋은 영화] &#8211; 킬러스(Killers)' href='http://ms.nala.ga/%ec%98%81%ec%96%b4-%ea%b3%b5%eb%b6%80%ed%95%98%ea%b8%b0-%ec%a2%8b%ec%9d%80-%ec%98%81%ed%99%94-%ed%82%ac%eb%9f%ac%ec%8a%a4killers/' />
<link rel='next' title='Scala &#8211; 1' href='http://ms.nala.ga/scala-1/' />
<meta name="generator" content="WordPress 4.8.5" />
<link rel='shortlink' href='http://ms.nala.ga/?p=11238' />
<link rel="alternate" type="application/json+oembed" href="http://ms.nala.ga/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fms.nala.ga%2Fpwm-install%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://ms.nala.ga/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fms.nala.ga%2Fpwm-install%2F&#038;format=xml" />

	<style>

		/* Border Color */
		.btn-social:hover,
		blockquote,
		#respond input:focus[type="text"], 
	    #respond input:focus[type="email"], 
	    #respond input:focus[type="url"],
	    #respond textarea:focus,
	    #comments .comment-reply a:hover
		{
			border-color: ;
		}

		
		/* Background Color */
		.scroll-up a,
		.btn-social:hover,
		button,
		input[type="button"],
		input[type="reset"],
		input[type="submit"],
		.navbar-default .navbar-nav .dropdown-menu li a:hover, .dropdown-menu li a:focus, .navbar-default .navbar-nav .dropdown-menu .active a,
		.pagination>li>a:focus, .pagination>li>a:hover, .pagination>li>span:focus, .pagination>li>span:hover, .pagination li .current,
		.next-previous-posts .next-post a:hover,
		.next-previous-posts .previous-post a:hover,
		.btn-goback,
		.btn-submit,
		a.more-link,
		.featured-post .fa,
		#comments .comment-reply a:hover,
		.widget .tagcloud a
		{
			background-color: ;
		}

		
		/* Color */
		.text-logo a,
		.navbar-default .navbar-nav .active a, .navbar-default .navbar-nav .active a:hover, .navbar-default .navbar-nav .active a:focus,
		.navbar-default .navbar-nav li a:hover, .navbar-default .navbar-nav li a:focus,
		a:hover,
    	a:focus,
		.next-previous-posts .previous-post a,
		.next-previous-posts .next-post a,
		.pagination>li>a, .pagination>li>span,
		#comments .comment-author a:hover, 
    	#respond .logged-in-as a:hover,
    	#wp-calendar a,
    	h2.entry-title a:hover
		{
			color: ;
		}


		/* A Color */
		a{
			color: ;
		}

		/* a:hover Color */
		a:hover,
		a:focus,
		a:active,
		.widget a:hover,
		.post .post-content .entry-meta ul li a:hover
		{
			color: ;
		}

		/* .featured-post .fa:after*/
		.featured-post .fa:after{
			border-color:   transparent ;
		}


		

	</style>
</head>

<body class="post-template-default single single-post postid-11238 single-format-standard">

    <div id="st-preloader">
        <div id="pre-status">
            <div class="preload-placeholder"></div>
        </div>
    </div>
<!-- /Preloader -->

<header id="header">	
	<div id="trueHeader">
    	<div class="wrapper">
            <div class="container">
            	<!-- Menu -->
            	<div class="menu_main">
                	<div class="navbar blogx-navbar navbar-default">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#st-navber-collapse">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>

                                                            <div class="text-logo">
                                    <a href="http://ms.nala.ga">All About MS CCL Contents</a>
                                    <p>All About MS CCL Contents</p>
                                </div><!-- /Logo -->
                                                    </div>
                      
                        <div id="st-navber-collapse" class="navbar-collapse collapse pull-right">
                             
                        </div>
                    </div>
            	</div><!-- end menu -->
        	</div> <!-- /.container -->
    	</div>
	</div>
	<DIV class='ads_adsense_img' style='margin:40px 0px 40px 0px;'>
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- only display -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8393857339019314"
	     data-ad-slot="7474886381"
	     data-ad-format="auto"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	</DIV>	

</header>
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div id="primary" class="content-area">
                    <main id="main" class="site-main" role="main">

                        
                                <article id="post-11238" class="post-11238 post type-post status-publish format-standard hentry category-uncategorized tag-install tag-pwm">
    <header class="entry-header">
        
        
    </header> <!--/.entry-header -->

    <div class="clearfix post-content media">

        <h2 class="entry-title">
            PWM Install        </h2> <!-- //.entry-title -->

        <div class="clearfix entry-meta">
            
            <ul class="list-inline">
                <li>
                    <span class="author vcard">
                        By <a class="url fn n" href="http://ms.nala.ga/author/admin/">admin</a>                    </span>
                </li>
                <li>
                    on <span class="posted-on">1월 13, 2018</span>
                </li>
                                    <li>
                        in <span class="posted-in">
                            <a href="http://ms.nala.ga/category/uncategorized/" rel="category tag">미분류</a>                        </span>
                    </li>
                            </ul>
                </div> <!--/.entry-meta -->
        
        <div class="entry-summary">
            <p><img src='http://www.serveradventures.com/uploads/1/4/1/1/14111650/d50-password-reset_10.png?611' style='max-width:250px;min-width:0px;' onError='this.style.display="none"' /></p>
<h1>3줄 요약 </h1>
<div style='color:#fff;background-color:#000;border-radius:10px;'>
<ol>
<li><span>[ Prerequisites ]Fresh installation of U <small>&#8230;중략&#8230;</small> address / DNS record for your web server</span></li>
<li><span>A better tutorial of this section is ava <small>&#8230;중략&#8230;</small> stalling Apache Tomcat 8 on Ubuntu 16.04</span></li>
<li><span>​The next step is to grant permissions to the Tomcat user/group: cd /opt/tomcat</span></li>
</ol>
</div>
<p><span id="more-11238"></span></p>
<p><iframe src='http://ad.selfhow.com/rd' width='100%' border=0 frameborder=0 style='height:auto;width:100%'></iframe></p>
<hr />
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424" style=""><strong style=""><font color="#8d2424" style=""><font size="5" style="">[ </font></font></strong><font size="4" style="">The Overview</font><font size="4" style=""> <font color="#8d2424"><font size="4"> </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></font></font></p>
<p>This blog was written to provide a step-by-step tutorial for IT administrators on deploying a web-based password reset portal following best practices. The guide was written for a broad audience but will make reasonable assumptions on your knowledge of certain technologies. Feel free to ask questions in the comment section!</p></div>
<div style='font-family: "Open Sans", sans-serif; text-align: justify;'>
<div class="wsite-image wsite-image-border-thick " style="position: relative; padding-left: 7px !important; padding-right: 7px !important; padding-top: 10px; padding-bottom: 10px; margin-left: 0px; margin-right: 0px; text-align: center;"><a style="color: rgb(38, 83, 134);"><img alt="Picture" src="http://www.serveradventures.com/uploads/1/4/1/1/14111650/d50-password-reset_10.png?611" style="vertical-align: middle; border: 1px solid rgba(0, 0, 0, 0.13); padding: 6px !important; margin-left: -7px !important; margin-right: -7px !important; max-width: 100%;"/></a></p>
<div style="font-size: 11.7px;"></div>
</div>
</div>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font><font size="4">The Backstory</font><font size="4"><font color="#8d2424"><font size="4"> </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></font></font></p>
<p>Three years ago, I was working at a school district with ~3000 users that were suddenly outnumbering our Windows computers with their &#8220;BYOD&#8221; cellphones, tablets, laptops, etc. We were also purchasing less and less traditional computing devices. We were moving to Google Chromebooks and the ability to press &#8220;Ctrl Alt Del&#8221; to initiate a password reset wasn&#8217;t realistic anymore. We had moved off Outlook in favor of Gmail and did not have access to leveraging OWA (Outlook Web Access) as a method of resetting passwords.</p>
<p>When I was doing some research about password self service, I stumbled upon an <a href="https://github.com/pwm-project/pwm" style="color: rgb(38, 83, 134);" target="_blank" title="">open source &#8220;PWM&#8221; project</a> hosted on Google Code. It seemed a little over my head (I had never setup a Linux server before) but I was obsessed with Google and figured my boss would be more likely to entertain my ideas if I had a working proof of concept. It took me a few tries but eventually I wrote one of my first well-received blog posts. It was a detailed guide to<a href="http://www.serveradventures.com/the-adventures/installing-pwm-open-source-password-self-service-for-ldap" style="color: rgb(38, 83, 134);" target="_blank" title=""> </a><a href="http://www.serveradventures.com/the-adventures/installing-pwm-open-source-password-self-service-for-ldap" style="color: rgb(38, 83, 134);" target="_blank" title="">installing PWM v1.7.0 on Ubuntu 14.04 LTS.</a> </p>
<p>A lot has changed since I wrote that blog post. The PWM source code is now a different major revision (v1.8) hosted on GitHub and Ubuntu 14.04 LTS is not the current LTS build. Even worse yet, my original guide had some wacky suggestions like using port 8080/8443 and self-signed certificates (to be fair&#8230; LetsEncrypt certificates weren&#8217;t available until 2015.) It occurred to me that my aging PWM tutorial was no longer relevant. </p></div>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Considerations </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p><strong>Hosting: </strong>You will need to make a decision about whether or not you want to host the web server on-premises. If you decide to go with a &#8220;cloud&#8221; service (e.g. Google Cloud, Amazon AWS, DigitalOcean, etc.) or in a colocation, you will still need to communicate with your LDAP server. If your LDAP server is only accessible on-premises, then you will likely need to tunnel the traffic through VPN. When I was working at the school district, it made sense to host on-premises since we had the existing server infrastructure, existing static IP addresses, and an LDAP server that was not externally accessible. </p>
<p><strong>Risk vs. Reward</strong>: Hosting an open source password reset portal saves you a bunch of money because it&#8217;s free, right? Not necessarily. It may be worth the money to offload the burden of security to a paid product (e.g. ServiceNow, ManageEngine, Azure AD Password Reset.) By designing your own custom solution, you also have a responsibility to routinely patch and secure it. The estimated cost of that responsibility should be taken into consideration. </p>
<p><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Prerequisites </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<ul style="padding-left: 3em !important; margin: 5px 0px !important; list-style-position: outside !important; list-style-image: initial !important;">
<li style="padding-left: 5px !important; margin: 3px 0px 0px !important; list-style: disc outside !important;">Fresh installation of Ubuntu 16.04 LTS</li>
<li style="padding-left: 5px !important; margin: 3px 0px 0px !important; list-style: disc outside !important;">Ability to communicate with existing LDAP server</li>
<li style="padding-left: 5px !important; margin: 3px 0px 0px !important; list-style: disc outside !important;">Established an external IP address / DNS record for your web server </li>
</ul>
<p>I will be demonstrating these prerequisites using an example server. In my case, I created a new Ubuntu LTS 16.04.1 x64 DigitalOcean &#8220;droplet&#8221;. Upon creation, it was automatically assigned a static public IPv4 address (​138.68.2.0). To create a new DNS record, I went to my domain registrar website (Domain.com) and added a new A record called &#8220;demo&#8221; that points to the IP address of 138.68.2.0. It will take some time for DNS to propagate, but eventually I should be able to confirm that demo.milesgratz.com resolves to 138.68.2.0.</div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><strong><span style="position: relative;"><span style="color: rgb(98, 98, 98);">nslookup demo.milesgratz.com</span></span></strong><br /><span style="color: rgb(98, 98, 98);">Server:  192.168.1.1</span><br /><span style="color: rgb(98, 98, 98);">Address:  192.168.1.1#53</span></p>
<p><span style="color: rgb(98, 98, 98);">Non-authoritative answer:</span><br /><span style="color: rgb(98, 98, 98);">Name:    demo.milesgratz.com</span><br /><span style="color: rgb(98, 98, 98);">Address:  138.68.2.0</span></p></blockquote>
<div style='font-family: "Open Sans", sans-serif; text-align: justify;'>
<div class="wsite-image wsite-image-border-medium " style="position: relative; padding-left: 4px !important; padding-right: 4px !important; padding-top: 10px; padding-bottom: 10px; margin-left: 0px; margin-right: 0px; text-align: center;"><a style="color: rgb(38, 83, 134);"><img alt="Picture" src="http://www.serveradventures.com/uploads/1/4/1/1/14111650/mgratz-droplet-v4_orig.png" style="vertical-align: middle; border: 1px solid rgba(0, 0, 0, 0.13); padding: 3px !important; margin-left: -4px !important; margin-right: -4px !important; max-width: 100%; width: auto;"/></a></p>
<div style="font-size: 11.7px;"></div>
</div>
</div>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Components for PWM </font></font><strong><font color="#8d2424"><font size="5">]</font></p>
<p></font></strong></p>
<ul style="padding-left: 3em !important; margin: 5px 0px !important; list-style-position: outside !important; list-style-image: initial !important;">
<li style="padding-left: 5px !important; margin: 3px 0px 0px !important; list-style: disc outside !important;"><font size="3"><strong><font color="#515151">Tomcat8</font></strong> </font> <font size="2">(Java web server framework for pwm application)</font></li>
<li style="padding-left: 5px !important; margin: 3px 0px 0px !important; list-style: disc outside !important;"><font color="#515151"><strong><font size="3">LetsEncrypt</font></strong>  </font><font size="2">(Free HTTPS certificate for Apache2)</font></li>
<li style="padding-left: 5px !important; margin: 3px 0px 0px !important; list-style: disc outside !important;"><font color="#515151"><strong><font size="3">Apache2</font></strong>  </font><font size="2">(SSL Proxy between client and Tomcat8)</font></li>
<li style="padding-left: 5px !important; margin: 3px 0px 0px !important; list-style: disc outside !important;"><font color="#515151"><strong><font size="3">ufw</font></strong>  </font><font size="2">(Firewall to secure web server)</font></li>
<li style="padding-left: 5px !important; margin: 3px 0px 0px !important; list-style: disc outside !important;"><font color="#515151"><strong><font size="3">MySQL Server</font></strong>  </font><font size="2">(Database for pwm application)</font></li>
</ul>
<p>​<br />​​​Let&#8217;s update our package lists and download some necessary utilities first:</div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">​sudo apt-get update<br />sudo apt-get install git unzip</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Installing Tomcat8 </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p>A better tutorial of this section is available here: <a href="https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-8-on-ubuntu-16-04" style="color: rgb(38, 83, 134);" target="_blank">Installing Apache Tomcat 8 on Ubuntu 16.04</a><br />Let&#8217;s start off by installing the Java Development Kit. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo apt-get install default-jdk</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>​Now we need to create a user and group for the Tomcat service:</div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo groupadd tomcat<br />sudo useradd -s /bin/false -g tomcat -d /opt/tomcat tomcat</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>At time of writing, the current stable build is Apache Tomcat 8.5.4 (available on <a href="http://tomcat.apache.org/" style="color: rgb(38, 83, 134);" target="_blank">http://tomcat.apache.org/</a>) but it is recommended you download the latest core build available on their website.</div>
<blockquote style="padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; text-align: justify;">
<p><span style="position: relative;"><font color="#626262" style='font-family: "Open Sans", sans-serif; color: rgb(153, 153, 153) !important;'>cd /tmp</font><br /><font color="#626262" style='font-family: "Open Sans", sans-serif; color: rgb(153, 153, 153) !important;'>wget </font><font color="#8d2424" face="Open Sans, sans-serif"><b>http://apache.mirror.cdnetworks.com/tomcat/tomcat-8/v8.5.23/bin/apache-tomcat-8.5.23.tar.gz</b></font><br /><font color="#626262" style='font-family: "Open Sans", sans-serif; color: rgb(153, 153, 153) !important;'>sudo mkdir /opt/tomcat<br />sudo tar xzvf apache-tomcat*.tar.gz -C /opt/tomcat &#8211;strip-components=1</font><br /><strong style='color: rgb(81, 81, 81); font-family: "Open Sans", sans-serif;'>​</strong></span></p>
</blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>The next step is to grant permissions to the Tomcat user/group: </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">cd /opt/tomcat<br />sudo chown -R tomcat *<br />sudo chgrp -R tomcat conf/<br />​sudo chmod g+rwx conf/<br />sudo chmod g+r conf/*</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>We are now ready to configure the Tomcat service. First we determine the path to our Java Development Kit and then create a new systemd file in /etc/systemd/system. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo update-java-alternatives -l</font><br /><font color="#818181">java-1.8.0-openjdk-amd64       1081      </font><font color="#8d2424"> <strong>/usr/lib/jvm/java-1.8.0-openjdk-amd64</strong></font><br /><font color="#626262">​sudo vim /etc/systemd/system/tomcat.service</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>Make sure the JAVA_HOME variable is correct. You can also adjust the amount of memory available to Java. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font size="2"><font color="#818181">​[Unit]</font><br /><font color="#818181">Description=Apache Tomcat Web Application Container</font><br /><font color="#818181">After=network.target</font></p>
<p><font color="#818181">[Service]</font><br /><font color="#818181">Type=forking</font></p>
<p><font color="#818181">Environment=JAVA_HOME=</font><strong><font color="#8d2424">/usr/lib/jvm/java-8-openjdk-amd64</font></strong><font color="#818181">/jre</font><br /><font color="#818181">Environment=CATALINA_PID=/opt/tomcat/temp/tomcat.pid</font><br /><font color="#818181">Environment=CATALINA_HOME=/opt/tomcat</font><br /><font color="#818181">Environment=CATALINA_BASE=/opt/tomcat</font><br /><font color="#818181">Environment=&#8217;CATALINA_OPTS=-Xms512M -Xmx</font><strong><font color="#8d2424">1024M</font></strong><font color="#818181"> -server -XX:+UseParallelGC&#8217;</font><br /><font color="#818181">Environment=&#8217;JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom&#8217;</font></p>
<p><font color="#818181">ExecStart=/opt/tomcat/bin/startup.sh</font><br /><font color="#818181">ExecStop=/opt/tomcat/bin/shutdown.sh</font></p>
<p><font color="#818181">User=tomcat</font><br /><font color="#818181">Group=tomcat</font><br /><font color="#818181">RestartSec=10</font><br /><font color="#818181">Restart=always</font></p>
<p><font color="#818181">[Install]</font><br /><font color="#818181">WantedBy=multi-user.target</font></font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>Alright, we are ready to start our Tomcat service. If all goes well, we will enable it permanently. Assuming your Ubuntu server allows port 8080 inbound, you should be able to access the Tomcat welcome page in your web browser: </p>
<p>​http://<strong><font color="#8d2424">your_server_IP_address</font></strong>:8080</div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo systemctl daemon-reload<br />sudo systemctl start tomcat<br />​​sudo systemctl enable tomcat</font></p></blockquote>
<div style='font-family: "Open Sans", sans-serif; text-align: justify;'>
<div class="wsite-image wsite-image-border-medium " style="position: relative; padding-left: 4px !important; padding-right: 4px !important; padding-top: 10px; padding-bottom: 10px; margin-left: 0px; margin-right: 0px; text-align: center;"><a style="color: rgb(38, 83, 134);"><img alt="Picture" src="http://www.serveradventures.com/uploads/1/4/1/1/14111650/mgratz-tomcat-status_orig.png" style="vertical-align: middle; border: 1px solid rgba(0, 0, 0, 0.13); padding: 3px !important; margin-left: -4px !important; margin-right: -4px !important; max-width: 100%; width: auto;"/></a></p>
<div style="font-size: 11.7px;">sudo systemctl status tomcat</div>
</div>
</div>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>​<font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Installing LetsEncrypt </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p>LetsEncrypt is a new Certificate Authority that provides <strong>free</strong> HTTPS certificates by using their client that runs locally on the web server and uses a combination of safety mechanisms (e.g. DNS resolution) to confirm that you own the domain that you are requesting a certificate for. As I mentioned earlier in my guide, this option did not exist prior to 2015. If you already have a wildcard certificate for your domain, you could use that instead. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo git clone https://github.com/letsencrypt/letsencrypt /opt/letsencrypt<br />​sudo vim /opt/letsencrypt/config.ini</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>Let&#8217;s create a config file for our LetsEncrypt certificate creation and renewal. You will need to adjust the email and domain name accordingly.</div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">​​authenticator = standalone</font><br /><font color="#626262">renew-by-default</font><br /><font color="#626262">agree-tos</font><br /><font color="#626262">email = </font><strong><font color="#8d2424"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="771a1e1b1204100516030d37101a161e1b5914181a">[email&#160;protected]</a></font></strong><br /><font color="#626262">domain = </font><strong><font color="#8d2424">demo.milesgratz.com</font></strong></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>We should be ready to generate our first certificate! If you are having issues with generating the certificate, make sure that the domain name you are providing (e.g. demo.milesgratz.com) resolves properly to your server. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">​sudo /opt/letsencrypt/letsencrypt-auto &#8211;config /opt/letsencrypt/config.ini certonly</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>The final step for LetsEncrypt is adjusting our crontab to auto-renew the certificate once a month. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262"><strong>crontab -e</strong></font><br /><font color="#818181">​​0 0 1 * * systemctl stop apache2 &amp;&amp; /opt/letsencrypt/letsencrypt-auto &#8211;config /opt/letsencrypt/config.ini certonly &amp;&amp; systemctl start apache2</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Installing Apache2 </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p>You might be wondering why you need both Apache2 and Tomcat8. By default, Tomcat listens on alternate ports (8080 and 8443) and was not designed to run natively on privileged ports like 80 and 443. Instead, we will be using Apache2 to proxy a secure connection between the client and Tomcat. Additionally, we will configure Apache2 to redirect all unencrypted HTTP requests to HTTPS. I have included a mediocre diagram of that concept in action. </p></div>
<div style='font-family: "Open Sans", sans-serif; text-align: justify;'>
<div class="wsite-image wsite-image-border-none " style="position: relative; padding-top: 10px; padding-bottom: 10px; margin-left: 0px; margin-right: 0px; text-align: left;"><a style="color: rgb(38, 83, 134);"><img alt="Picture" src="http://www.serveradventures.com/uploads/1/4/1/1/14111650/apachetomcatmodproxy_2_orig.png" style="vertical-align: middle; border-width: 0px !important; border-style: initial; border-color: initial; border-image: initial; max-width: 100%; width: auto;"/></a></p>
<div style="font-size: 11.7px;"></div>
</div>
</div>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>First, we will install the Apache2 package and create our new VirtualHost configuration. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo apt-get install apache2<br />​sudo vim /etc/apache2/sites-available/tomcat.conf</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>Next step is to adjust the domain names.<br /><strong>NOTE</strong>​: The trailing forward slash on the end of the redirect URL is required.</div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">​&lt;VirtualHost *:80&gt;</font><br /><font color="#626262">      # redirect to https</font><br /><font color="#626262">      Redirect permanent / https://</font><strong><font color="#8d2424">demo.milesgratz.com/</font></strong><br /><font color="#626262">&lt;/VirtualHost&gt;</font></p>
<p><font color="#626262">&lt;VirtualHost *:443&gt;</font><br /><font color="#626262">      # LogLevel info ssl:warn</font><br /><font color="#626262">      ErrorLog ${APACHE_LOG_DIR}/error.log</font><br /><font color="#626262">      CustomLog ${APACHE_LOG_DIR}/access.log combined</font></p>
<p><font color="#626262">      # Enable SSL for this virtual host.</font><br /><font color="#626262">      SSLEngine on</font><br /><font color="#626262">      SSLCertificateKeyFile /etc/letsencrypt/live/</font><strong><font color="#8d2424">demo.milesgratz.com</font></strong><font color="#626262">/privkey.pem</font><br /><font color="#626262">      SSLCertificateFile /etc/letsencrypt/live/</font><strong><font color="#8d2424">demo.milesgratz.com</font></strong><font color="#626262">/cert.pem</font><br /><font color="#626262">      SSLCertificateChainFile /etc/letsencrypt/live/</font><strong><font color="#8d2424">demo.milesgratz.com</font></strong><font color="#626262">/chain.pem</font></p>
<p><font color="#626262">      # Configure proxy with tomcat</font><br /><font color="#626262">      ProxyPreserveHost On</font><br /><font color="#626262">      ProxyRequests Off</font><br /><font color="#626262">      ProxyPass / http://localhost:8080/</font><br /><font color="#626262">      ProxyPassReverse / http://localhost:8080/</font><br /><font color="#626262">&lt;/VirtualHost&gt;</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>The last step is to enable the SSL/proxy modules, enable the new VirtualHost configuration, and disable the default Apache2 configuration. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">​sudo a2enmod ssl proxy proxy_http<br />sudo a2dissite 000-default<br />sudo a2ensite tomcat<br />sudo systemctl restart apache2</font></p></blockquote>
<div style='font-family: "Open Sans", sans-serif; text-align: justify;'>
<div class="wsite-image wsite-image-border-none " style="position: relative; padding-top: 10px; padding-bottom: 10px; margin-left: 0px; margin-right: 0px; text-align: center;"><a style="color: rgb(38, 83, 134);"><img alt="Picture" src="http://www.serveradventures.com/uploads/1/4/1/1/14111650/apache2-tomcat-https_orig.png" style="vertical-align: middle; border-width: 0px !important; border-style: initial; border-color: initial; border-image: initial; max-width: 100%; width: auto;"/></a></p>
<div style="font-size: 11.7px;"></div>
</div>
</div>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Installing ufw </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p>Now that we have a working web server, we need to properly secure it. Enabling the firewall can also accidentally disable your SSH access. The rules below allow SSH, HTTP, and HTTPS from all addresses. You will likely want to be more restrictive.</p></div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo ufw allow ssh<br />sudo ufw allow http<br />sudo ufw allow https</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>Here is an example of allowing SSH from all private network IPv4 addresses. You could also restrict it to a small range of IP addresses (e.g. 10.9.58.0/24) or even a single IP address.  </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo ufw allow from 10.0.0.0/8 to any port 22<br />sudo ufw allow from 172.16.0.0/12 to any port 22<br />sudo ufw allow from 192.168.0.0/16 to any port 22</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>Once you are comfortable with your firewall rules, we can enable the firewall permanently. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo ufw enable</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Installing MySQL Server </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p>Depending on what you are planning on doing with PWM, you may not need to install the MySQL database. Unless you are confident you will not need it, it may make more sense to install it. For example, a database is required to store secret questions/answers for &#8220;Forgot My Password&#8221; feature. </p></div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#333333">sudo apt-get install mysql-server</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>The default installation of MySQL has a &#8220;test&#8221; database and enables remote root access. To purge these default settings, we will run the <a href="https://dev.mysql.com/doc/refman/5.7/en/mysql-secure-installation.html" style="color: rgb(38, 83, 134);" target="_blank">MySQL Secure Installation</a>. It is recommended that you change your MySQL root password if your estimated password strength is below 100.</div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><strong><font color="#626262">sudo mysql_secure_installation</font></strong></p>
<p>Would you like to setup VALIDATE PASSWORD plugin? (Press y|Y for Yes, any other key for No) : <br /><strong><font color="#8d2424">Y</font></strong></p>
<p>There are three levels of password validation policy:<br />Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: <strong><font color="#8d2424">2</font></strong><br />Estimated strength of the password: <strong><font color="#8d2424">100<br />​</font></strong><br />Change the password for root? (Press y|Y for Yes, any other key for No) : <br /><font color="#8d2424"><strong>N</strong></font></p>
<p>Remove anonymous users? (Press y|Y for Yes, any other key for No) : <br /><strong><font color="#8d2424">Y</font></strong></p>
<p>Disallow root login remotely? (Press y|Y for Yes, any other key for No) :<br /><strong><font color="#8d2424">Y</font></strong></p>
<p>Reload privilege tables now? (Press y|Y for Yes, any other key for No) :<br /><strong><font color="#8d2424">Y</font></strong></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>We will now login to MySQL and create the pwm user, pwm database, and grant privileges accordingly.  </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><strong><font color="#626262">sudo mysql &#8211;user=&#8221;root&#8221; &#8211;password</font></strong><br /><font color="#626262">mysql&gt; </font><br /><font color="#626262"><br />CREATE USER &#8216;pwm&#8217;@&#8217;localhost&#8217; IDENTIFIED BY &#8216;</font><strong><font color="#8d2424">YOUR_DB_PASSWORD</font></strong><font color="#626262">&#8216;;<br />CREATE DATABASE pwm;<br />​GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP ON pwm.* TO &#8216;pwm&#8217;@&#8217;localhost&#8217;;<br />FLUSH PRIVILEGES;</p>
<p>​exit</font></p>
</blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Installing PWM </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p>You&#8217;ve made it to the easy part! Let&#8217;s install the actual PWM application. You can download the latest build from their website (<a href="http://www.pwm-project.org/artifacts/pwm" style="color: rgb(38, 83, 134);" target="_blank">http://www.pwm-project.org/artifacts/pwm</a>). This blog post was written using the &#8220;28 Aug 2016&#8221; build.</div>
<blockquote style="padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; text-align: justify;"><p><font color="#626262" style='color: rgb(153, 153, 153) !important; font-family: "Open Sans", sans-serif;'>cd /tmp<br />wget </font><font color="#626262" face="Open Sans, sans-serif">https://www.pwm-project.org/artifacts/pwm/pwm-1.8.0-SNAPSHOT-2017-07-26T05:36:59Z-pwm-bundle.zip</font><br /><font color="#626262" style='color: rgb(153, 153, 153) !important; font-family: "Open Sans", sans-serif;'>unzip pwm*bundle.zip</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>Next, let&#8217;s replace the default Tomcat &#8220;ROOT&#8221; directory with our PWM application. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><span style="color: rgb(51, 51, 51);">sudo rm -rf /opt/tomcat/webapps/ROOT<br />​sudo mv pwm.war /opt/tomcat/webapps/ROOT.war</span></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#2a2a2a">Tomcat will detect the &#8220;.war&#8221; file and automatically unpack the contents into the /opt/tomcat/webapps/ROOT folder. Once it has been deployed, we need to modify the PWM &#8220;web.xml&#8221; file so that it has the correct applicationPath.</font></div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><font color="#626262">sudo vim /opt/tomcat/webapps/ROOT/WEB-INF/web.xml </font></p>
<p><font color="#626262">        &lt;param-name&gt;applicationPath&lt;/param-name&gt;</font><br /><font color="#626262">        &lt;param-value&gt;</font><strong><font color="#8d2424">/opt/tomcat/webapps/ROOT/WEB-INF</font></strong><font color="#626262">&lt;/param-value&gt;</font></p>
</blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>The website should be working now!</div>
<div style='font-family: "Open Sans", sans-serif; text-align: justify;'>
<div class="wsite-image wsite-image-border-medium " style="position: relative; padding-left: 4px !important; padding-right: 4px !important; padding-top: 10px; padding-bottom: 10px; margin-left: 0px; margin-right: 0px; text-align: center;"><a style="color: rgb(38, 83, 134);"><img alt="Picture" src="http://www.serveradventures.com/uploads/1/4/1/1/14111650/secure-https.png?717" style="vertical-align: middle; border: 1px solid rgba(0, 0, 0, 0.13); padding: 3px !important; margin-left: -4px !important; margin-right: -4px !important; max-width: 100%;"/></a></p>
<div style="font-size: 11.7px;"></div>
</div>
</div>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Configuring PWM </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p>The Configuration Guide is going to have you configure your LDAP settings and a handful of other &#8220;initial setup&#8221; settings. If you are having issues getting through this part, feel free to ask questions in the comment section. Other useful resources include the <a href="https://docs.google.com/document/d/1BBHPcOUxZytrqncYFInTaY2PXgW5p1EmzwV8zcpspRg/pub" style="color: rgb(38, 83, 134);" target="_blank">PWM Administration Guide</a> or the <a href="https://groups.google.com/forum/#!forum/pwm-general" style="color: rgb(38, 83, 134);" target="_blank">PWM General forum</a>. </p>
<p>​Once you have completed the Configuration Guide, we also need to install the MySQL &#8220;Connector/J&#8221; JDBC driver that allows the PWM application to communicate with the MySQL database. I recommend downloading the latest version from their website (<a href="https://dev.mysql.com/downloads/connector/j/" style="color: rgb(38, 83, 134);" target="_blank">https://dev.mysql.com/downloads/connector/j</a>) but I am using v5.1.39 in this guide. </div>
<blockquote style='padding: 1px 30px 50px; margin-right: 0px; margin-left: 0px; border-left-width: 4px; border-left-color: rgb(221, 221, 221); line-height: 22.1px; font-family: "Open Sans", sans-serif; text-align: justify; color: rgb(153, 153, 153) !important;'><p><span style="color: rgb(0, 0, 0);">cd /tmp​</span><br /><font color="#333333">wget </font><strong><font color="#8d2424">https://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-5.1.39.tar.gz</font></strong><br /><font color="#626262">tar -xzvf mysql-connector-java*.tar.gz<br />cd mysql-connector-java*<br />sudo mv mysql-connector-java*.jar /opt/tomcat/webapps/ROOT/WEB-INF/lib</font></p></blockquote>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'>Next, goto your &#8220;Configuration Editor&#8221; -&gt; &#8220;Settings&#8221; -&gt; &#8220;Database (Remote)&#8221; -&gt; &#8220;Connection&#8221;.</p>
<p><strong>Database Class:</strong><br /><font color="#8d2424">com.mysql.jdbc.Driver</font></p>
<p>​<strong>Database Connection String:</strong><br /><font color="#8d2424">jdbc:mysql://localhost:3306/pwm</font></p>
<p><strong>Database Username:</strong><br /><font color="#8d2424">pwm</font></p>
<p><strong>Database Password:</strong><br /><font color="#8d2424">(enter PWM database password)</font></p>
<p><strong>Database Vendor:</strong><br /><font color="#8d2424">Other</font></div>
<div style='font-family: "Open Sans", sans-serif; text-align: justify;'>
<div class="wsite-image wsite-image-border-thick " style="position: relative; padding-left: 7px !important; padding-right: 7px !important; padding-top: 10px; padding-bottom: 10px; margin-left: 0px; margin-right: 0px; text-align: center;"><a style="color: rgb(73, 129, 192); outline: 0px;"><img alt="Picture" src="http://www.serveradventures.com/uploads/1/4/1/1/14111650/pwm-database_orig.png" style="vertical-align: middle; border: 1px solid rgba(0, 0, 0, 0.13); padding: 6px !important; margin-left: -7px !important; margin-right: -7px !important; max-width: 100%; width: auto;"/></a></p>
<div style="font-size: 11.7px;"></div>
</div>
</div>
<div class="paragraph" style='word-wrap: break-word; line-height: 1.5; padding: 1em 0px; font-family: "Open Sans", sans-serif; text-align: justify;'><font color="#8d2424"><font size="4"><strong><font color="#8d2424"><font size="5">[ </font></font></strong></font></font><font color="#8d2424"><font size="4">Congratulations! </font></font><strong><font color="#8d2424"><font size="5">]</font></font></strong></p>
<p>Well done, you made it! Thanks for reading my blog. I appreciate all the helpful feedback I&#8217;ve gotten from the community over the years. If you are struggling with any part of the guide, please comment below. </p></div>
<p></p>
<hr />
<p><iframe src='http://ad.selfhow.com/rd' width='100%' border=0 frameborder=0 style='height:auto;width:100%'></iframe></p>
<p><a href='http://loder.tistory.com/1' target='_blank'>Origin Content : 상기의 IT</a> | <a href="/cdn-cgi/l/email-protection#ed8e8e818ead838c818cc38a8c" target='_blank'>Contact : <span class="__cf_email__" data-cfemail="bddeded1defdd3dcd1dc93dadc">[email&#160;protected]</span></a>
</p>
<p>Cotent License : CC-BY </p>
<p>This content is collected under the CCL license.</p>
<p>Please check the license of the original article before asking about copyright.</p>
<ul>
<li><a href='/tag/PWM'>More About <span style='font-weight:bold;'>PWM</span></a></li>
<li><a href='/tag/Install'>More About <span style='font-weight:bold;'>Install</span></a></li>
</ul>
        </div> <!-- //.entry-summary -->
        
                    <div class="entry-tags"><b>Tags:</b> <a href="http://ms.nala.ga/tag/install/" rel="tag">Install</a>, <a href="http://ms.nala.ga/tag/pwm/" rel="tag">PWM</a></div>
        
    </div>

</article> <!--/#post-->





                                                                    <div class="post-nav-area">
                                                    
            <nav class="next-previous-post clearfix media" role="navigation">
                <div class="row">
                    <!-- Previous Post -->
                    <div class="previous-post col-sm-6 pull-left">
                        <div class="nav-previous"><i class="fa fa-angle-left"></i> <a href="http://ms.nala.ga/%ec%98%81%ec%96%b4-%ea%b3%b5%eb%b6%80%ed%95%98%ea%b8%b0-%ec%a2%8b%ec%9d%80-%ec%98%81%ed%99%94-%ed%82%ac%eb%9f%ac%ec%8a%a4killers/" rel="prev">[영어 공부하기 좋은 영화] &#8211; 킬러스(Killers)</a></div>                    </div>

                    <!-- Next Post -->
                    <div class="next-post col-sm-6 pull-right text-right">
                        <div class="nav-next"><a href="http://ms.nala.ga/scala-1/" rel="next">Scala &#8211; 1</a> <i class="fa fa-angle-right"></i></div>                    </div>
                </div>
            </nav><!-- .navigation -->
            
                                            </div>
                                
                                
                            
                                            </main> <!-- /.site-main -->
                </div>  <!-- /.content-area -->
            </div> <!-- /col -->

            <!-- Blogsidebar -->
            
	<div class="col-md-4">
	    <div class="primary-sidebar widget-area" role="complementary">
	        <div id="tag_cloud-2" class="widget widget_tag_cloud"><h2 class="widget-title">태그</h2><div class="tagcloud"><a href="http://ms.nala.ga/tag/1%ec%9b%94/" class="tag-cloud-link tag-link-2 tag-link-position-1" style="font-size: 18.440677966102pt;" aria-label="1월 (115 아이템)">1월</a>
<a href="http://ms.nala.ga/tag/2017/" class="tag-cloud-link tag-link-21 tag-link-position-2" style="font-size: 17.016949152542pt;" aria-label="2017 (98 아이템)">2017</a>
<a href="http://ms.nala.ga/tag/2017%eb%85%84/" class="tag-cloud-link tag-link-551 tag-link-position-3" style="font-size: 14.406779661017pt;" aria-label="2017년 (77 아이템)">2017년</a>
<a href="http://ms.nala.ga/tag/2018/" class="tag-cloud-link tag-link-155 tag-link-position-4" style="font-size: 15.830508474576pt;" aria-label="2018 (89 아이템)">2018</a>
<a href="http://ms.nala.ga/tag/2018%eb%85%84/" class="tag-cloud-link tag-link-64 tag-link-position-5" style="font-size: 19.864406779661pt;" aria-label="2018년 (130 아이템)">2018년</a>
<a href="http://ms.nala.ga/tag/the/" class="tag-cloud-link tag-link-310 tag-link-position-6" style="font-size: 11.322033898305pt;" aria-label="the (57 아이템)">the</a>
<a href="http://ms.nala.ga/tag/vs/" class="tag-cloud-link tag-link-128 tag-link-position-7" style="font-size: 8pt;" aria-label="vs (41 아이템)">vs</a>
<a href="http://ms.nala.ga/tag/%ea%b0%80%ea%b2%a9/" class="tag-cloud-link tag-link-275 tag-link-position-8" style="font-size: 12.271186440678pt;" aria-label="가격 (62 아이템)">가격</a>
<a href="http://ms.nala.ga/tag/%ea%b2%b0%ed%98%bc/" class="tag-cloud-link tag-link-501 tag-link-position-9" style="font-size: 20.338983050847pt;" aria-label="결혼 (136 아이템)">결혼</a>
<a href="http://ms.nala.ga/tag/%ea%b3%b5%ea%b0%9c/" class="tag-cloud-link tag-link-260 tag-link-position-10" style="font-size: 9.8983050847458pt;" aria-label="공개 (49 아이템)">공개</a>
<a href="http://ms.nala.ga/tag/%ea%b7%b8%eb%a6%ac%ea%b3%a0/" class="tag-cloud-link tag-link-980 tag-link-position-11" style="font-size: 10.135593220339pt;" aria-label="그리고 (50 아이템)">그리고</a>
<a href="http://ms.nala.ga/tag/%eb%82%98%ec%9d%b4%ec%b0%a8/" class="tag-cloud-link tag-link-1184 tag-link-position-12" style="font-size: 8.2372881355932pt;" aria-label="나이차 (42 아이템)">나이차</a>
<a href="http://ms.nala.ga/tag/%eb%82%a8%ec%9e%90/" class="tag-cloud-link tag-link-364 tag-link-position-13" style="font-size: 9.4237288135593pt;" aria-label="남자 (47 아이템)">남자</a>
<a href="http://ms.nala.ga/tag/%eb%82%a8%ed%8e%b8/" class="tag-cloud-link tag-link-603 tag-link-position-14" style="font-size: 16.305084745763pt;" aria-label="남편 (92 아이템)">남편</a>
<a href="http://ms.nala.ga/tag/%eb%85%b8%eb%9e%98/" class="tag-cloud-link tag-link-713 tag-link-position-15" style="font-size: 8.9491525423729pt;" aria-label="노래 (45 아이템)">노래</a>
<a href="http://ms.nala.ga/tag/%eb%8c%80%ed%95%9c/" class="tag-cloud-link tag-link-3572 tag-link-position-16" style="font-size: 10.135593220339pt;" aria-label="대한 (50 아이템)">대한</a>
<a href="http://ms.nala.ga/tag/%eb%93%9c%eb%9d%bc%eb%a7%88/" class="tag-cloud-link tag-link-1041 tag-link-position-17" style="font-size: 16.542372881356pt;" aria-label="드라마 (95 아이템)">드라마</a>
<a href="http://ms.nala.ga/tag/%eb%a6%ac%eb%b7%b0/" class="tag-cloud-link tag-link-447 tag-link-position-18" style="font-size: 12.508474576271pt;" aria-label="리뷰 (64 아이템)">리뷰</a>
<a href="http://ms.nala.ga/tag/%eb%a7%9b%ec%a7%91/" class="tag-cloud-link tag-link-782 tag-link-position-19" style="font-size: 16.779661016949pt;" aria-label="맛집 (97 아이템)">맛집</a>
<a href="http://ms.nala.ga/tag/%eb%aa%a8%ec%9d%8c/" class="tag-cloud-link tag-link-1142 tag-link-position-20" style="font-size: 13.694915254237pt;" aria-label="모음 (72 아이템)">모음</a>
<a href="http://ms.nala.ga/tag/%eb%aa%b8%eb%a7%a4/" class="tag-cloud-link tag-link-2391 tag-link-position-21" style="font-size: 15.830508474576pt;" aria-label="몸매 (88 아이템)">몸매</a>
<a href="http://ms.nala.ga/tag/%eb%b0%a9%eb%b2%95/" class="tag-cloud-link tag-link-930 tag-link-position-22" style="font-size: 17.491525423729pt;" aria-label="방법 (103 아이템)">방법</a>
<a href="http://ms.nala.ga/tag/%eb%b0%b0%ec%9a%b0/" class="tag-cloud-link tag-link-895 tag-link-position-23" style="font-size: 15.593220338983pt;" aria-label="배우 (86 아이템)">배우</a>
<a href="http://ms.nala.ga/tag/%eb%b6%80%ec%82%b0/" class="tag-cloud-link tag-link-157 tag-link-position-24" style="font-size: 8.4745762711864pt;" aria-label="부산 (43 아이템)">부산</a>
<a href="http://ms.nala.ga/tag/%ec%82%ac%eb%9e%91/" class="tag-cloud-link tag-link-2972 tag-link-position-25" style="font-size: 14.406779661017pt;" aria-label="사랑 (77 아이템)">사랑</a>
<a href="http://ms.nala.ga/tag/%ec%82%ac%ec%a7%84/" class="tag-cloud-link tag-link-410 tag-link-position-26" style="font-size: 9.4237288135593pt;" aria-label="사진 (47 아이템)">사진</a>
<a href="http://ms.nala.ga/tag/%ec%95%84%eb%82%b4/" class="tag-cloud-link tag-link-3039 tag-link-position-27" style="font-size: 9.6610169491525pt;" aria-label="아내 (48 아이템)">아내</a>
<a href="http://ms.nala.ga/tag/%ec%95%88%eb%82%b4/" class="tag-cloud-link tag-link-1327 tag-link-position-28" style="font-size: 11.322033898305pt;" aria-label="안내 (56 아이템)">안내</a>
<a href="http://ms.nala.ga/tag/%ec%95%8c%ec%95%84%eb%b3%b4%ea%b8%b0/" class="tag-cloud-link tag-link-821 tag-link-position-29" style="font-size: 15.118644067797pt;" aria-label="알아보기 (82 아이템)">알아보기</a>
<a href="http://ms.nala.ga/tag/%ec%95%8c%ec%95%84%eb%b3%b4%ec%9e%90/" class="tag-cloud-link tag-link-341 tag-link-position-30" style="font-size: 11.322033898305pt;" aria-label="알아보자 (56 아이템)">알아보자</a>
<a href="http://ms.nala.ga/tag/%ec%97%ac%ed%96%89/" class="tag-cloud-link tag-link-873 tag-link-position-31" style="font-size: 17.016949152542pt;" aria-label="여행 (98 아이템)">여행</a>
<a href="http://ms.nala.ga/tag/%ec%98%81%ed%99%94/" class="tag-cloud-link tag-link-562 tag-link-position-32" style="font-size: 19.389830508475pt;" aria-label="영화 (124 아이템)">영화</a>
<a href="http://ms.nala.ga/tag/%ec%98%a4%eb%8a%98/" class="tag-cloud-link tag-link-1059 tag-link-position-33" style="font-size: 13.694915254237pt;" aria-label="오늘 (72 아이템)">오늘</a>
<a href="http://ms.nala.ga/tag/%ec%9a%b0%eb%a6%ac/" class="tag-cloud-link tag-link-888 tag-link-position-34" style="font-size: 11.322033898305pt;" aria-label="우리 (57 아이템)">우리</a>
<a href="http://ms.nala.ga/tag/%ec%9c%84%ed%95%9c/" class="tag-cloud-link tag-link-1175 tag-link-position-35" style="font-size: 12.983050847458pt;" aria-label="위한 (66 아이템)">위한</a>
<a href="http://ms.nala.ga/tag/%ec%9d%b4%ec%95%bc%ea%b8%b0/" class="tag-cloud-link tag-link-611 tag-link-position-36" style="font-size: 12.508474576271pt;" aria-label="이야기 (64 아이템)">이야기</a>
<a href="http://ms.nala.ga/tag/%ec%9d%b4%ec%9c%a0/" class="tag-cloud-link tag-link-296 tag-link-position-37" style="font-size: 10.372881355932pt;" aria-label="이유 (51 아이템)">이유</a>
<a href="http://ms.nala.ga/tag/%ec%9e%90%ea%b2%a9%ec%a6%9d/" class="tag-cloud-link tag-link-2111 tag-link-position-38" style="font-size: 9.4237288135593pt;" aria-label="자격증 (47 아이템)">자격증</a>
<a href="http://ms.nala.ga/tag/%ec%a0%95%eb%a6%ac/" class="tag-cloud-link tag-link-1831 tag-link-position-39" style="font-size: 13.220338983051pt;" aria-label="정리 (68 아이템)">정리</a>
<a href="http://ms.nala.ga/tag/%ec%a0%95%eb%b3%b4/" class="tag-cloud-link tag-link-89 tag-link-position-40" style="font-size: 15.118644067797pt;" aria-label="정보 (83 아이템)">정보</a>
<a href="http://ms.nala.ga/tag/%ec%b6%94%ec%b2%9c/" class="tag-cloud-link tag-link-146 tag-link-position-41" style="font-size: 22pt;" aria-label="추천 (162 아이템)">추천</a>
<a href="http://ms.nala.ga/tag/%ec%b6%9c%ec%97%b0/" class="tag-cloud-link tag-link-2930 tag-link-position-42" style="font-size: 10.847457627119pt;" aria-label="출연 (54 아이템)">출연</a>
<a href="http://ms.nala.ga/tag/%ed%95%9c%ea%b5%ad/" class="tag-cloud-link tag-link-3361 tag-link-position-43" style="font-size: 11.796610169492pt;" aria-label="한국 (59 아이템)">한국</a>
<a href="http://ms.nala.ga/tag/%ed%9a%a8%eb%8a%a5/" class="tag-cloud-link tag-link-810 tag-link-position-44" style="font-size: 9.6610169491525pt;" aria-label="효능 (48 아이템)">효능</a>
<a href="http://ms.nala.ga/tag/%ed%9b%84%ea%b8%b0/" class="tag-cloud-link tag-link-14 tag-link-position-45" style="font-size: 17.966101694915pt;" aria-label="후기 (109 아이템)">후기</a></div>
</div>	    </div>
	</div>

        </div> <!-- /.row -->
    </div> <!-- /.container -->
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <hr>
            </div>
        </div>
    </div>
    <footer class="site-footer" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 text-center">
  
                    <p></p>
                    
                                            <div class="footer-social-icons">
                                                                                                                                                                                                                                                                                                                                                                                                        
                        </div>
                    
                </div>
            </div>
        </div>
    </footer>

            <div class="scroll-up">
            <a href="#"><i class="fa fa-angle-up"></i></a>
        </div>
        <!-- Scroll Up -->

    <script data-cfasync="false" src="/cdn-cgi/scripts/af2821b0/cloudflare-static/email-decode.min.js"></script><script type='text/javascript' src='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/js/bootstrap.min.js?ver=3.3.5'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/js/scripts.js'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/js/jquery.fitvids.js'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/js/smoothscroll.js'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-includes/js/wp-embed.min.js?ver=4.8.5'></script>
    </body>
</html>