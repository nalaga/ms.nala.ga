<!DOCTYPE html>
<html lang="ko-KR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <link rel="pingback" href="http://ms.nala.ga/xmlrpc.php">

<title>Cluster : The Beginning – Hadoop 2.9.0 설치 | All About MS CCL Contents</title>
<meta name='robots' content='noindex,follow' />

<!-- All in One SEO Pack 2.4.4 by Michael Torbert of Semper Fi Web Design[276,364] -->
<meta name="robots" content="index,nofollow" />

<link rel="canonical" href="http://ms.nala.ga/cluster-the-beginning-hadoop-2-9-0-%ec%84%a4%ec%b9%98/" />
<!-- /all in one seo pack -->
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="All About MS CCL Contents &raquo; 피드" href="http://ms.nala.ga/feed/" />
<link rel="alternate" type="application/rss+xml" title="All About MS CCL Contents &raquo; 댓글 피드" href="http://ms.nala.ga/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/ms.nala.ga\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bootstrap-css-css'  href='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/css/bootstrap.min.css?ver=3.3.5' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css-css'  href='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/css/font-awesome.min.css?ver=4.4.0' type='text/css' media='all' />
<link rel='stylesheet' id='shaped-blog-stylesheet-css'  href='http://ms.nala.ga/wp-content/themes/shaped-blog/style.css?ver=4.8.5' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-css-css'  href='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/css/responsive.css' type='text/css' media='all' />
<script type='text/javascript' src='http://ms.nala.ga/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='http://ms.nala.ga/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ms.nala.ga/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ms.nala.ga/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='김태희 주연의 나와 스타의 99일 한국방영!!' href='http://ms.nala.ga/%ea%b9%80%ed%83%9c%ed%9d%ac-%ec%a3%bc%ec%97%b0%ec%9d%98-%eb%82%98%ec%99%80-%ec%8a%a4%ed%83%80%ec%9d%98-99%ec%9d%bc-%ed%95%9c%ea%b5%ad%eb%b0%a9%ec%98%81/' />
<link rel='next' title='어딘가의 섬' href='http://ms.nala.ga/%ec%96%b4%eb%94%98%ea%b0%80%ec%9d%98-%ec%84%ac/' />
<meta name="generator" content="WordPress 4.8.5" />
<link rel='shortlink' href='http://ms.nala.ga/?p=7238' />
<link rel="alternate" type="application/json+oembed" href="http://ms.nala.ga/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fms.nala.ga%2Fcluster-the-beginning-hadoop-2-9-0-%25ec%2584%25a4%25ec%25b9%2598%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://ms.nala.ga/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fms.nala.ga%2Fcluster-the-beginning-hadoop-2-9-0-%25ec%2584%25a4%25ec%25b9%2598%2F&#038;format=xml" />

	<style>

		/* Border Color */
		.btn-social:hover,
		blockquote,
		#respond input:focus[type="text"], 
	    #respond input:focus[type="email"], 
	    #respond input:focus[type="url"],
	    #respond textarea:focus,
	    #comments .comment-reply a:hover
		{
			border-color: ;
		}

		
		/* Background Color */
		.scroll-up a,
		.btn-social:hover,
		button,
		input[type="button"],
		input[type="reset"],
		input[type="submit"],
		.navbar-default .navbar-nav .dropdown-menu li a:hover, .dropdown-menu li a:focus, .navbar-default .navbar-nav .dropdown-menu .active a,
		.pagination>li>a:focus, .pagination>li>a:hover, .pagination>li>span:focus, .pagination>li>span:hover, .pagination li .current,
		.next-previous-posts .next-post a:hover,
		.next-previous-posts .previous-post a:hover,
		.btn-goback,
		.btn-submit,
		a.more-link,
		.featured-post .fa,
		#comments .comment-reply a:hover,
		.widget .tagcloud a
		{
			background-color: ;
		}

		
		/* Color */
		.text-logo a,
		.navbar-default .navbar-nav .active a, .navbar-default .navbar-nav .active a:hover, .navbar-default .navbar-nav .active a:focus,
		.navbar-default .navbar-nav li a:hover, .navbar-default .navbar-nav li a:focus,
		a:hover,
    	a:focus,
		.next-previous-posts .previous-post a,
		.next-previous-posts .next-post a,
		.pagination>li>a, .pagination>li>span,
		#comments .comment-author a:hover, 
    	#respond .logged-in-as a:hover,
    	#wp-calendar a,
    	h2.entry-title a:hover
		{
			color: ;
		}


		/* A Color */
		a{
			color: ;
		}

		/* a:hover Color */
		a:hover,
		a:focus,
		a:active,
		.widget a:hover,
		.post .post-content .entry-meta ul li a:hover
		{
			color: ;
		}

		/* .featured-post .fa:after*/
		.featured-post .fa:after{
			border-color:   transparent ;
		}


		

	</style>
</head>

<body class="post-template-default single single-post postid-7238 single-format-standard">

    <div id="st-preloader">
        <div id="pre-status">
            <div class="preload-placeholder"></div>
        </div>
    </div>
<!-- /Preloader -->

<header id="header">	
	<div id="trueHeader">
    	<div class="wrapper">
            <div class="container">
            	<!-- Menu -->
            	<div class="menu_main">
                	<div class="navbar blogx-navbar navbar-default">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#st-navber-collapse">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>

                                                            <div class="text-logo">
                                    <a href="http://ms.nala.ga">All About MS CCL Contents</a>
                                    <p>All About MS CCL Contents</p>
                                </div><!-- /Logo -->
                                                    </div>
                      
                        <div id="st-navber-collapse" class="navbar-collapse collapse pull-right">
                             
                        </div>
                    </div>
            	</div><!-- end menu -->
        	</div> <!-- /.container -->
    	</div>
	</div>
	<DIV class='ads_adsense_img' style='margin:40px 0px 40px 0px;'>
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- only display -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8393857339019314"
	     data-ad-slot="7474886381"
	     data-ad-format="auto"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	</DIV>	

</header>
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div id="primary" class="content-area">
                    <main id="main" class="site-main" role="main">

                        
                                <article id="post-7238" class="post-7238 post type-post status-publish format-standard hentry category-uncategorized tag-12481 tag-beginning tag-cluster tag-hadoop tag-the tag-5020">
    <header class="entry-header">
        
        
    </header> <!--/.entry-header -->

    <div class="clearfix post-content media">

        <h2 class="entry-title">
            Cluster : The Beginning &#8211; Hadoop 2.9.0 설치        </h2> <!-- //.entry-title -->

        <div class="clearfix entry-meta">
            
            <ul class="list-inline">
                <li>
                    <span class="author vcard">
                        By <a class="url fn n" href="http://ms.nala.ga/author/admin/">admin</a>                    </span>
                </li>
                <li>
                    on <span class="posted-on">1월 13, 2018</span>
                </li>
                                    <li>
                        in <span class="posted-in">
                            <a href="http://ms.nala.ga/category/uncategorized/" rel="category tag">미분류</a>                        </span>
                    </li>
                            </ul>
                </div> <!--/.entry-meta -->
        
        <div class="entry-summary">
            <p><img src='http://cfile29.uf.tistory.com/image/99D457475A576B7A2B1A36' style='max-width:250px;min-width:0px;' onError='this.style.display="none"' /></p>
<h1>3줄 요약 </h1>
<div style='color:#fff;background-color:#000;border-radius:10px;'>
<ol>
<li><span><value>/Users/hadoop/data/dfs/journalnode</value></span></li>
<li><span>mapred-site.xml<!-- Map-Reduce 실행 시 관리 프레임워크로 YARN을 지정 --></span></li>
<li><span><!-- ResourceManager 상태가 저장될 경로 --></span></li>
</ol>
</div>
<p><span id="more-7238"></span></p>
<p><iframe src='http://ad.selfhow.com/rd' width='100%' border=0 frameborder=0 style='height:auto;width:100%'></iframe></p>
<hr />
<div class="tt_adsense_top" style="margin-bottom:30px">
<!-- tistory1 --></p>
</div>
<p style="text-align: center; clear: none; float: none;"><span class="imageblock" style="display:inline-block;width:500px;width: 500px; height: 442px;;height:auto;max-width:100%"><img alt="main" filemime="image/jpeg" filename="aibigdataiot.png" height="442" original="yes" src="http://cfile29.uf.tistory.com/image/99D457475A576B7A2B1A36" style="width: 500px; height: 442px;" width="500"/></span></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<div class="txc-textbox" style="border: 1px solid rgb(238, 238, 238); background-color: rgb(238, 238, 238); padding: 10px;">
<div>목차</div>
<div></div>
<div><span style="font-family: Georgia;">1. </span><span style='font-family: "Ubuntu Condensed", "Noto Sans Korean"; font-size: 14px; background-color: rgb(241, 241, 241);'><a class="tx-link" href="http://mazdah.tistory.com/803" target="_blank"><span style="font-family: Georgia;">Cluster : The Beginning &#8211; Hadoop, HBase 그리고 Kafka</span></a></span></div>
<p><br style='font-family: "Ubuntu Condensed", "Noto Sans Korean"; font-size: 14px;'></p>
<div><span style="font-family: Georgia;">2. </span><span style="font-family: Georgia; font-size: 14px; background-color: rgb(241, 241, 241);"><a class="tx-link" href="http://mazdah.tistory.com/804" target="_blank">Cluster : The Beginning &#8211; Raspberry pi에 MQTT (EMQ) 설치하기 </a></span></div>
<p></p>
<p><span style="font-family: Georgia;">3. <a class="tx-link" href="http://mazdah.tistory.com/805" target="_blank">Cluster : The Beginning &#8211; Raspberry pi에 HAProxy 설치하기</a></span></p>
<p><span style="font-family: Georgia; font-size: 14px; background-color: rgb(241, 241, 241);"><br /></span></p>
<p><span style="font-family: Georgia; font-size: 14px; background-color: rgb(241, 241, 241);">4. </span><span style="font-family: Georgia;"><a class="tx-link" href="http://mazdah.tistory.com/806" target="_blank">Cluster : The Beginning &#8211; Raspberry pi에 Apache Kafka 설치하기</a></span></p>
<p><span style="font-family: Georgia;"><br /></span></p>
<p><span style="font-family: Georgia;">5. </span><span style="font-family: Georgia;"><a class="tx-link" href="http://mazdah.tistory.com/807" target="_blank">Cluster : The Beginning &#8211; Apache Kafka와 EMQ 연동</a></span></p>
<p><span style="font-family: Georgia;"><br /></span></p>
<p><span style="font-family: Georgia;">6. </span><span style="font-family: Georgia;">Cluster : The Beginning &#8211; Hadoop 2.9.0 설치</span><span style="font-family: Georgia;">(이번 글)</span></p>
<p></br></div>
<div></div>
<p></p>
<p></p>
<h2 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 2em; margin-bottom: 0.75em; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>Cluster : The Beginning &#8211; Hadoop 2.9.0 설치</h2>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>이제 라즈베리파이의 구성은 모두 정리가 되었고 맥미니에 클러스터를 구성할 차례이다.<br />이 글을 쓰는 시점에는 이미 모든 클러스터 구성이 완료 되었으나 여전히 많은 작업이 남아있다.</p>
<p></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>하지만 모든 클러스터를 구성하는 것 까지는 초보 수준에서 가장 기초적인 설정만으로 진행하고 있으니<br />같은 맥락에서 진행을 하도록 하겠다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>맥미니에 설치할 Hadoop ecosystem은 3가지로 Hadoop과 HBase 그리고 Spark이다.<br />HBase는 Cassandra와 고민을 좀 했는데 아무래도 하둡과의 궁합을 생각해서 HBase를 설치하기로 했다.<br />Spark의 경우 Spark MLlib 때문에 설치해보기로 했는데 메모리를 이용한 시스템이다보니 가정용 PC의 뻔한<br />메모리 용량으로 제대로 써먹기나 할지 모르겠다(다른 시스템들도 마찬가지지만…).</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>하둡 배포판 선정</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>사실 예전에 하둡 1.4와 HBase를 설치했을 때 여러가지 설정과 배포본을 노드에 카피하는 등 많은 작업들이<br />매우 번거롭게 느껴져서 이번에는 아주 좋은 툴인 Apache Ambari를 사용하여 설치해볼까하고 시도를 해봤다.<br />그런데 시작부터 막힌 것이 Mac을 지원하지 않아 WMWare에 설치된 Ubuntu에 Ambari를 설치하게 되었다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<p>일단 설치는 간단하게 되었는데…정작 웹 콘솔을 시작하고 클러스터를 만드는 과정에서 각 노드에 연결을<br />하지 못하는 문제가 발생을 하였다. 아무래도 Mac에서 진행을 하다보니 지원이 안되는 부분이 있나보다 하고<br />과감하게 포기를 하고 다시 맨땅에 헤딩하면서 진행을 할 수밖에 없었다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>우선 설치할 시점에서의 최신 버전인 2.9.0 버전을 다운로드 받아 설치하기로 하였다. 그런데 오늘 가서 보니 그새<br />3.0.0이 새로 릴리즈가 되어있고 2.6.X, 2.7.X, 2.8.X, 2.9.X, 3.0.X가 각각 업데이트가 진행되는 것 같은데<br />어떤 기준으로 버전이 나누어지고 또 업데이트가 되는지 잘 모르겠다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<blockquote style='margin: 1.5em; color: rgb(102, 102, 102); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;">배포버전 참조 링크 : <a href="http://hadoop.apache.org/releases.html#Download" style="color: rgb(0, 102, 204); text-decoration: underline;">http://hadoop.apache.org/releases.html#Download</a></p>
</blockquote>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>어쨌든 나는 2.9.0 버전을 선택하여 설치하였다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>설치 환경 및 모드</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>일단 앞선 몇 번의 포스팅에서 언급한 것과 같이 현재 내가 보유하고 있는 장비는 총 5대의 Mac mini이다.<br />즉 5대의 PC에 완전 분산모드로 설치를 진행하게 될 것이다. 5대의 host 이름은 각각 다음과 같다.<br />괄호 안은 떠있게 될 기본 프로세스다. </p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">NAMENODE.local (Active NameNode, JournalNode, ResourceManager, DFSZKFailoverController)</li>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">SECONDARY-NAMENODE.local (Standby NameNode, JournalNode, DFSZKFailoverController)<br />(과거 1.4 설치 때 secondary namenode였음…)</li>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">DATANODE1.local (DataNode, JournalNode, NodeManager)</li>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">DATANODE2.local (DataNode , NodeManager)</li>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">DATANODE3.local (DataNode , NodeManager)</li>
</ul>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>JournalNode 구성 때문에 1대를 더 영입하려다가 참았다…-.-<br />이후 작성하는 모든 글에서 각 노드는 위에 적은 호스트명을 사용하도록 하겠다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>설치</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>앞서 설치한 다른 시스템들과 마찬가지로 다운로드 받은 압축 패키지를 적당한 위치에 풀면 설치 끝이다…-.-<br />나는 현재 모든 시스템들을 <code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5; padding: 0.2em 0.4em; background-color: rgb(225, 233, 237);">/opt</code> 아래에 설치 중이다. 따라서 hadoop의 경로는 <code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5; padding: 0.2em 0.4em; background-color: rgb(225, 233, 237);">/opt/hadoop</code>이고 <br />버전 정보는 과감하게 빼버렸다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251); text-align: center; clear: none; float: none;'><span class="imageblock" style="display:inline-block;width:757px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="hadoop-home.png" height="628" src="http://cfile24.uf.tistory.com/image/9930D4405A576DC51D0796" style="" width="757"/></span></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>사전 준비</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>하둡을 설치하기 전에 한 가지 준비할 것이 있는데 하둡은 마스터(NameNode)와 슬레이브(Datanode)간에<br />통신을 하는데 SSH를 이용하게 된다. 이 때 SSH 접근 시 비밀번호 인증을 거치게 되면 정상적으로 통신을 할 수<br />없기 때문에 먼저 비밀번호 인증 없이 접속을 하기 위해 다음과 같은 절차로 준비를 해야 한다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>일반적으로 사용자 계정의 홈 디렉토리에 있는 .ssh라는 디렉토리에 SSH 관련 인증키들이 들어있다. 만일 기존에<br />사용 중인 인증 키(보통 id_rsa, id_rsa.pub이라는 이름) 파일들이 보이면 그 파일들을 이용하면 될 것이고 파일이<br />없거나 .ssh 디렉토리 자체가 없다면 다음과 같이 SSH 키를 생성해준다. 이 작업은 Active NameNode 서버와<br />Standby NameNode 서버에서 각각 진행한다. 아래는 Active NameNode 기준으로 기록하였다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="95fdf4f1fafae5d5dbd4d8d0dbdad1d0bbf9faf6f4f9">[email&#160;protected]</a>$ ssh-keygen -t rasa -f  ~/.ssh/id_rsa
</code></pre>
<blockquote style='margin: 1.5em; color: rgb(102, 102, 102); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;">당연한 이야기이겠지만 Standby NameNode에서 할 때는 <code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5; padding: 0.2em 0.4em; background-color: rgb(225, 233, 237);">nn2_id_rsa</code>와 같이 키 파일 이름을 다르게 해야<br />나중에 DataNode로 복사를 할 때 파일을 덮어쓰는 문제를 피할 수 있다.</p>
</blockquote>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>이렇게 하면 인증키 파일이 생성이 된다. 이제 이 인증키 파일 중 공개키에 해당하는 id_rsa.pub 파일을 각 <br />DataNode들로 복사를 해준다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6901080d060619292728242c27262d2c4705060a0805">[email&#160;protected]</a>$ scp ~/.ssh/id_rsa.pub <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5e363f3a31312e1e1a1f0a1f10111a1b6f7032313d3f32">[email&#160;protected]</a>:/Users/hadoop/.ssh/id_rsa.pub 
'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="87efe6e3e8e8f7c7c9c6cac2c9c8c3c2a9ebe8e4e6eb">[email&#160;protected]</a>$ scp ~/.ssh/id_rsa.pub <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5c343d3833332c1c181d081d121318196e7230333f3d30">[email&#160;protected]</a>:/Users/hadoop/.ssh/id_rsa.pub 
'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ee868f8a81819eaea0afa3aba0a1aaabc082818d8f82">[email&#160;protected]</a>$ scp ~/.ssh/id_rsa.pub <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="80e8e1e4efeff0c0c4c1d4c1cecfc4c5b3aeecefe3e1ec">[email&#160;protected]</a>:/Users/hadoop/.ssh/id_rsa.pub 
</code></pre>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>다음 각각의 DataNode의 <code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5; padding: 0.2em 0.4em; background-color: rgb(225, 233, 237);">~/.ssh</code> 디렉토리로 이동하여 아래와 같이 인증 키 목록에 NameNode에서 받은<br />인증키의 내용을 추가해준다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b9d1d8ddd6d6c9f9fdf8edf8f7f6fdfc8897d5d6dad8d5">[email&#160;protected]</a>$ cat  ~/.ssh/id_rsa.pub &gt;&gt; authorized_keys
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="81e9e0e5eeeef1c1c5c0d5c0cfcec5c4b3afedeee2e0ed">[email&#160;protected]</a>$ cat  ~/.ssh/id_rsa.pub &gt;&gt; authorized_keys
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="137b72777c7c6353575247525d5c5756203d7f7c70727f">[email&#160;protected]</a>$ cat  ~/.ssh/id_rsa.pub &gt;&gt; authorized_keys
</code></pre>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>이렇게 만들어진 <code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5; padding: 0.2em 0.4em; background-color: rgb(225, 233, 237);">authorized_keys </code>파일을 열어보면 대략 이렇게 생겼다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251); text-align: center; clear: none; float: none;'><span class="imageblock" style="display:inline-block;width:776px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="authorized_keys.png" height="406" src="http://cfile1.uf.tistory.com/image/99B764405A576DE634FAA8" style="" width="776"/></span></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>마지막으로 ssh-agent를 실행하고 ssh-add를 해준다(예전에도 이런 것을 해줬는지 가물가물한데 해야 한다는<br />것을 보니 아무래도 예전에 내가 뭘 잘못했던게지…-.-)</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="98f0f9fcf7f7e8d8d6d9d5ddd6d7dcddb6f4f7fbf9f4">[email&#160;protected]</a>$ eval "$(ssh-agent -s)"  
Agent pid 59566  
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6800090c070718282629252d2627">[email&#160;protected]</a>DE.local$ ssh-add ~/.ssh/id_rsa
</code></pre>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>가운데 줄은 첫 줄 실행의 결과다. 주의할 것은 콘솔창에서 이렇게만 실행하면 그 콘솔창의 세션 내에서만 반영이<br />된다. 즉, 콘솔창을 죽였다가 새로 실행하면 이 작업을 다시 해줘야 비밀번호 인증 없이 ssh 접속이 가능하게 된다.<br />또한 이 세션은 실행한 계정 내에서만 유효하다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>하둡 1.X vs 2.X</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>간단하게 예전에 설치했던 하둡 1.4와 비교를 하고 넘어가겠다. 생각외로 변경된 사항 때문에 설정해야 할 것들이<br />많아져서 가볍게라도 언급을 해두어야 할 것 같다. 우선 아래 그림을 먼저 보자.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251); text-align: center; clear: none; float: none;'><span class="imageblock" style="display:inline-block;width:755px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="hadoop1vs2.png" height="316" src="http://cfile8.uf.tistory.com/image/9943DF3B5A576DFE1D984F" style="" width="755"/></span></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>중요한 변화를 2가지만 짚어보면</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<blockquote style='margin: 1.5em; color: rgb(102, 102, 102); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;"><strong>HA(High Availability) Cluster 구성</strong></p>
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;">하둡 1.X에서는 NameNode는 1대만 설치가 가능하였으나 하둡 2.X에서는 2대 이상의 <br />NameNode를 설치할 수 있는데 이 모든 NameNode가 동시에 작동하는 것이 아니라<br />이 중 1대만이 Active NameNode로 활성화 되고 다른 NameNode들은 Standby<br />NameNode로, 말 그대로 대기를 하고 있다가 Active NameNode가 다운되었을 경우 <br />Active 상태가 되어 NameNode로서의 임무를 수행하게 된다. </p>
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;">
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;">이런 운영이 가능하려면 NameNode들 간에 항상 데이터가 공유되어야 하며 그 방법에는<br />NFS(NAS와 같은 공유 저장소)를 이용하는 방법과 zookeeper와 JournalNode를 이용하는<br />방법이 있는데 보통 zookeeper와 JournalNode를 이용하는 방법을 많이 쓴다고 한다.<br />JournalNode는 3개 이상 홀수로 구성을 해야 한다.</p>
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;"></p>
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;"><strong>YARN의 등장</strong></p>
<p style="margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px;">기존에 MapReduce의 작동이 JobTracker와 TaskTracker를 통해 이루어지던 것이<br />YARN의 ResourceManager와 NodeManager를 통해 자원 관리 및 모니터링이<br />이루어지도록 바뀌었다.</p>
</blockquote>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>하둡 1.X에서는 Secondary NameNode라는 개념이 있었는데 2.X에서도 여전히 사용 가능하며<br />다만 HA 클러스터를 구성하는 경우에는 Secondary NameNode를 사용할 수 없다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>이런 변화로 인해 하둡 2.X에서는 zookeeper에 대한 설정을 해야 하며 JournalNode 프로세스를<br />띄워야 하고 YARN을 구동시켜야 하는 등 1.X에 비해 해야 할 일이 늘었다. </p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>참고로 zookeeper는 이전에 Kafka 설치 시 라즈베리파이에 함께 설치한 zookeeper를 함께 사용한다. </p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>아래 이미지는 2.X의 구조를 나타낸 그림이다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251); text-align: center; clear: none; float: none;'><span class="imageblock" style="display:inline-block;width:800px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="hadoop2-architecture.png" height="452" src="http://cfile9.uf.tistory.com/image/9986CE415A576E1B3243A3" style="" width="800"/></span></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>설정</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>설치는 언급할 것도 없이 매우 간단하였고…이제는 설정이다. 역시나 설정도 필수적인 몇몇 항목만 제대로 <br />설정을 하면 나머지는 기본값으로 그냥 사용하면 된다. 그리고 경로도 좀 독특해서 아래와 같은 경로에 설정 파일들이 <br />존재한다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">/opt/hadoop/etc/hadoop
</code></pre>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>그런데!<br />다른 시스템들과는 달리 하둡은 설정 파일에 기본 값들이 들어있지 않다! 즉, 파일에 최상위 엘리먼트 태그만<br />덩그러니 있고 내용은 비어있다. 따라서 일단 잘 설명되어있는 블로그나 사이트로 가서 기본적인 내용을 <br />복사해와야 한다…ㅠ.ㅠ 내가 설정한 내용은 다음과 같다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">core-site.xml</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">&lt;!-- 필수 설정 --&gt;
&lt;property&gt;
      &lt;name&gt;fs.defaultFS&lt;/name&gt;
      &lt;value&gt;hdfs://NAMENODE.local:9090&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 아래 2개의 설정은 옵션~
&lt;property&gt; 
      &lt;name&gt;io.file.buffer.size&lt;/name&gt;
      &lt;value&gt;131072&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt; 
      &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
      &lt;value&gt;/opt/hadoop/temp&lt;/value&gt;
&lt;/property&gt;
--&gt;
&lt;!--
HA Cluster를 구성할 때 JournalNode를 관리하기 위한 zookeeper 서버를 설정 
이 서버들은 이전에 포스팅한 Kafka 설치 관련 내용에서 이미 설치해둔 라즈베리파이들이다. 
--&gt;
&lt;property&gt; 
      &lt;name&gt;ha.zookeeper.quorum&lt;/name&gt;
      &lt;value&gt;rpi1,rpi2,rpi3&lt;/value&gt;
&lt;/property&gt;
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">hdfs-site.xml</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">&lt;!-- 
아래 내용 중 데이터 복제 계수를 의미하는 dfs.replication가 설정되지 않았는데 기본값으로
3이 적용 된다.
--&gt;
&lt;!-- NameNode가 namespace와 transaction 로그를 저장하기 위한 경로 --&gt;
&lt;property&gt;
          &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;
          &lt;value&gt;/Users/hadoop/data/dfs/namenode&lt;/value&gt;
&lt;/property&gt;
&lt;!-- DataNode 자체 및 클러스터와의 관계에 대한 메타데이터를 저장하기 위한 경로 --&gt;
&lt;property&gt;
          &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;
          &lt;value&gt;/Users/hadoop/data/dfs/datanode&lt;/value&gt;
&lt;/property&gt;
&lt;!-- JournalNode의 메타데이터를 저장하기 위한 경로 --&gt;
&lt;property&gt;
          &lt;name&gt;dfs.journalnode.edits.dir&lt;/name&gt;
          &lt;value&gt;/Users/hadoop/data/dfs/journalnode&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 이하는 HA Cluster 구성을 위해 필요한 내용 --&gt;
&lt;!-- 클러스터 내의 nameservice를 대표하는 논리적인 이름 --&gt;
&lt;property&gt;
	&lt;name&gt;dfs.nameservices&lt;/name&gt;
         &lt;value&gt;mazberrycluster&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 위에서 설정한 nameservice 내에서 사용될 NameNode들의 논리적 이름 --&gt;
&lt;property&gt;
	&lt;name&gt;dfs.ha.namenodes.mazberrycluster&lt;/name&gt;
	&lt;value&gt;nn1,nn2&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 첫 번째 NameNode(nn1)에서 사용할 RPC 호스트:포트 --&gt;
&lt;property&gt;
	&lt;name&gt;dfs.namenode.rpc-address.mazberrycluster.nn1&lt;/name&gt;
	&lt;value&gt;NAMENODE.local:8020&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 두 번째 NameNode(nn2)에서 사용할 RPC 호스트:포트 --&gt;
&lt;property&gt;
	&lt;name&gt;dfs.namenode.rpc-address.mazberrycluster.nn2&lt;/name&gt;
	&lt;value&gt;SECONDARY-NAMENODE.local:8020&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 첫 번째 NameNode(nn1)에서 사용할 Web UI 호스트:포트 --&gt;
&lt;property&gt;
	&lt;name&gt;dfs.namenode.http-address.mazberrycluster.nn1&lt;/name&gt;
	&lt;value&gt;NAMENODE.local:50070&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 두 번째 NameNode(nn2)에서 사용할 Web UI 호스트:포트 --&gt;
&lt;property&gt;
	&lt;name&gt;dfs.namenode.http-address.mazberrycluster.nn2&lt;/name&gt;
	&lt;value&gt;SECONDARY-NAMENODE.local:50070&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 각 JournalNode에서 공유할 데이터를 저장할 URI --&gt;
&lt;property&gt;
	&lt;name&gt;dfs.namenode.shared.edits.dir&lt;/name&gt;
	&lt;value&gt;qjournal://NAMENODE.local:8485;SECONDARY-NAMENODE.local:8485;DATANODE1.local:8485/mazberrycluster&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 클라이언트가 Active NameNode에 접근할 때 사용할 JAVA 클래스 --&gt;
&lt;property&gt;
	&lt;name&gt;dfs.client.failover.proxy.provider.mazberrycluster&lt;/name&gt;
	&lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;
&lt;/property&gt;
&lt;!-- Failover가 발생했을 때 Active NameNode로의 접근을 차단할 방법 --&gt;
&lt;property&gt;
        &lt;name&gt;dfs.ha.fencing.methods&lt;/name&gt;
        &lt;value&gt;sshfence&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 위에서 ssh를 사용하기로 했기 때문에 ssh 인증키 경로를 설정해준다. --&gt;
&lt;property&gt;
        &lt;name&gt;dfs.ha.fencing.ssh.private-key-files&lt;/name&gt;
        &lt;value&gt;/Users/hadoop/.ssh/id_rsa&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 자동으로 Failover 처리를 할 것인지 --&gt;
&lt;property&gt;
        &lt;name&gt;dfs.ha.automatic-failover.enabled&lt;/name&gt;
        &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">slaves</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">## Slave. 즉, DataNode로 사용할 서버의 호스트명을 적어준다.
DATANODE1.local
DATANODE2.local
DATANODE3.local
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">mapred-site.xml</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">&lt;!-- Map-Reduce 실행 시 관리 프레임워크로 YARN을 지정 --&gt;
&lt;property&gt;
      &lt;name&gt;mapreduce.framework.name&lt;/name&gt;
      &lt;value&gt;yarn&lt;/value&gt;
&lt;/property&gt;
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">yarn-site.xml</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">&lt;!-- Map-Reduce 실행시 사용할 셔플 서비스 설정 --&gt;
&lt;property&gt;
      &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;
      &lt;value&gt;mapreduce_shuffle&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 위에 설정한 셔플 수행을 위한 JAVA 클래스 --&gt;
&lt;property&gt;
      &lt;name&gt;yarn.nodemanager.auxservices.mapreduce.shuffle.class&lt;/name&gt;
      &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 위에 설정한 셔플 수행을 위한 JAVA 클래스 --&gt;
&lt;property&gt;
          &lt;name&gt;yarn.nodemanager.local-dirs&lt;/name&gt;
          &lt;value&gt;/opt/hadoop/data/yarn/nm-local-dir&lt;/value&gt;
&lt;/property&gt;
&lt;!-- ResourceManager 상태가 저장될 경로 --&gt;
&lt;property&gt;
          &lt;name&gt;yarn.resourcemanager.fs.state-store.uri&lt;/name&gt;
          &lt;value&gt;/opt/hadoop/data/yarn/system/rmstore&lt;/value&gt;
&lt;/property&gt;
&lt;!-- ResourceManager가 수행될 노드의 호스트명 --&gt;
&lt;property&gt;
          &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
          &lt;value&gt;NAMENODE.local&lt;/value&gt;
&lt;/property&gt;
&lt;!-- YARN의 web proxy 주소:포트 --&gt;
&lt;property&gt;
          &lt;name&gt;yarn.web-proxy.address&lt;/name&gt;
          &lt;value&gt;0.0.0.0:8089&lt;/value&gt;
&lt;/property&gt;
</code></pre>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>휴…이제 설정이 끝난 것 같다.<br />이렇게 설정이 끝났으면 설치한 하둡 배포판을 모든 노드의 같은 경로에 복사해준다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>마지막으로 데몬 실행 파일들에 보면 실제로 데몬을 실행하는 코드가 모두 <code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5; padding: 0.2em 0.4em; background-color: rgb(225, 233, 237);">nohup</code>으로 시작하는데 Mac에서는<br />nohup 명령어가 없다. 따라서 파일을 열어 nohup으로 시작하는 명령 코드에서 nohup을 모두 제거해주어야 한다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>실행</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>상당히 많은 분량의 설정이 있었던 만큼 실행 역시 순탄치 않다.<br />일단 기본적으로 위에 언급된 것만 해도 NameNode, DataNode, JournalNode, YARN 등이 있다.<br />게다가 Active와 Standby NameNode를 지정해주기 위한 단계와 Failover 처리를 위한 프로세스도<br />띄워주어야 한다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>이제부터 차근차근 순서를 밟아 실행을 해보자. 우선 $HADOOP_HOME으로 이동하자.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;">$ cd /opt/hadoop
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">Failover 컨트롤러 실행을 위해 먼저 zookeeper를 초기화 해주어야 한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0961686d666679494748444c47464d4c2765666a6865">[email&#160;protected]</a>$ bin/hdfs zkfc -formatZK
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">JournalNode로 사용할 서버에서 각각 JournalNode 프로세스를 실행한다.<br />나의 경우 NAMENODE.local, SECONDARY-NAMENODE.local, DATANODE1.loca의 3대이다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f29a93969d9d82b2bcb3bfb7bcbdb6b7dc9e9d91939e">[email&#160;protected]</a>$ sbin/hadoop-daemon.sh start journalnode
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e880898c878798a8bbadaba7a6aca9bab1c5a6a9a5ada6a7acadc684878b8984">[email&#160;protected]</a>$ sbin/hadoop-daemon.sh start journalnode
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="701811141f1f0030343124313e3f3435415e1c1f13111c">[email&#160;protected]</a>$ sbin/hadoop-daemon.sh start journalnode
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">NameNode를 포맷한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="fa929b9e95958abab4bbb7bfb4b5bebfd49695999b96">[email&#160;protected]</a>$ bin/hdfs namenode -format
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">Active NameNode를 실행한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dfb7bebbb0b0af9f919e929a91909b9af1b3b0bcbeb3">[email&#160;protected]</a>$ sbin/hadoop-daemon.sh start namenode
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">zookeeper Failover 컨트롤러를 실행한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="513930353e3e21111f101c141f1e15147f3d3e32303d">[email&#160;protected]</a>$ sbin/hadoop-daemon.sh start zkfc
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">전체 DataNode를 실행한다 (각각의 DataNode에서 hadoop-daemon.sh로 실행해도 된다.)</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7810191c171708383639353d36373c3d5614171b1914">[email&#160;protected]</a>$ sbin/hadoop-daemons.sh start datanode
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">Standby NameNode로 이동하여 Active NameNode의 메타 데이터를 Standby NameNode로 <br />복사한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6800090c070718283b2d2b27262c293a31452629252d26272c2d4604070b0904">[email&#160;protected]</a>$ bin/hdfs namenode -bootstrapStandby
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">Standby NameNode를 실행한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e58d84818a8a95a5b6a0a6aaaba1a4b7bcc8aba4a8a0abaaa1a0cb898a868489">[email&#160;protected]</a>$ sbin/hadoop-daemon.sh start namenode
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">Standby NameNode용 zookeeper Failover 컨트롤러를 실행한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97fff6f3f8f8e7d7c4d2d4d8d9d3d6c5cebad9d6dad2d9d8d3d2b9fbf8f4f6fb">[email&#160;protected]</a>$ sbin/hadoop-daemon.sh start zkfc
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">다시 Active NameNode로 돌아와 YARN을 실행한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="147c75707b7b64545a5559515a5b50513a787b777578">[email&#160;protected]</a>$ sbin/start-yarn.sh
</code></pre>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<p style="margin-bottom: 0.75em; margin-top: 0.75em;"></p>
<ul style='margin: 0px 3em 1.5em 1.5em; padding-left: 1.5em; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<li style="margin-bottom: 0.75em; margin-top: 0.75em;">마지막으로 Map-Reduce를 위한 history 서버를 실행한다.</li>
</ul>
<pre style='margin-top: 1.5em; margin-bottom: 1.5em; font-size: 17.33333396911621px; font-family: "andale mono", "lucida console", monospace; line-height: 1.5; overflow-x: scroll; color: rgb(211, 189, 126); background-color: rgb(32, 32, 32); padding: 10pt 15pt; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;'><code style="font-size: 15.600000381469727px; font-family: Menlo, monospace; line-height: 1.5;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e28a83868d8d92a2aca3afa7acada6a7cc8e8d81838e">[email&#160;protected]</a>$ sbin/mr-jobhistory-daemon.sh start historyserver
</code></pre>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>이렇게 해서 하둡으로의 긴 여정이 끝이났다…ㅠ.ㅠ</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>모니터링</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>하둡을 설치하고 나면 아래와 같이 Active NameNode와 Standby NameNode에서 각각 관리 사이트로<br />접속을 할 수 있다. 기본 포트는 50070이다.</p>
<table align="center" border="0" cellpadding="0" cellspacing="5">
<tbody>
<tr>
<td><span class="imageblock" style="display:inline-block;width:450px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="ann.png" height="489" src="http://cfile6.uf.tistory.com/image/992ACB335A576E500A6B59" width="450"/></span></td>
<td><span class="imageblock" style="display:inline-block;width:450px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="snn.png" height="489" src="http://cfile5.uf.tistory.com/image/998C2F335A576E50276425" width="450"/></span></td>
</tr>
</tbody>
</table>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251); text-align: center; clear: none; float: none;'>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251); text-align: center; clear: none; float: none;'>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251); text-align: center; clear: none; float: none;'></p>
<table align="center" border="0" cellpadding="0" cellspacing="5">
<tbody>
<tr>
<td><span class="imageblock" style="display:inline-block;width:300px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="summary.png" height="326" src="http://cfile2.uf.tistory.com/image/99B7BA3D5A576E9C1841C8" width="300"/></span></td>
<td><span class="imageblock" style="display:inline-block;width:300px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="dnode1.png" height="326" src="http://cfile24.uf.tistory.com/image/99F30B3A5A576EE518A64A" width="300"/></span></td>
<td><span class="imageblock" style="display:inline-block;width:300px;;height:auto;max-width:100%"><img filemime="image/jpeg" filename="dnode2.png" height="326" src="http://cfile30.uf.tistory.com/image/99514E3A5A576EE60501F5" width="300"/></span></td>
</tr>
</tbody>
</table>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<h3 style='font-weight: normal; color: rgb(17, 17, 17); font-size: 1.5em; line-height: 1; margin-top: 1.5em; font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; background-color: rgb(251, 251, 251);'>정리</h3>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>전체적으로 상당히 긴 과정이었다. 이 것이 그저 꼴랑 5대의 노드로 구성된 클러스터이니 망정이지 수 백, 수 천 대의<br />노드로 구성된 클러스터라면 정말 관리 시스템의 도움이 없이는 제대로 운영할 수 없을 것이다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>일단 전체 에코시스템 구성에서 가장 큰 고비를 넘긴 것 같다. 이제 정리할 것은 HBase와 Spark만 남겨두고 있다.<br />하지만 이미 모든 시스템을 설치한 후 각 시스템들을 어떻게 연동하여 데이터를 다룰 것인지에 대해 고민을 하다보니<br />이후가 더 어려울 것 같다는 생각이 든다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'>그래도 차근차근 끝까지 가봐야겠다.</p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<p style='margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; color: rgb(34, 34, 34); font-family: "Helvetica Neue", Arial, Helvetica, sans-serif; font-size: 17.33333396911621px; background-color: rgb(251, 251, 251);'></p>
<div class="tt_adsense_bottom" style="margin-top:30px">
<!-- tistory2 --></p>
</div>
<div style="text-align:center; padding-top:10px;clear:both">
<iframe allowtransparency="true" frameborder="0" scrolling="no" src="//www.facebook.com/plugins/like.php?href=http://mazdah.tistory.com/808&amp;layout=button_count&amp;show_faces=true&amp;width=106&amp;action=like&amp;font=tahoma&amp;colorscheme=light&amp;height=65" style="border:none; overflow:hidden; width:106px; height:30px;"></iframe>
</div>
<hr />
<p><iframe src='http://ad.selfhow.com/rd' width='100%' border=0 frameborder=0 style='height:auto;width:100%'></iframe></p>
<p><a href='http://mazdah.tistory.com/808' target='_blank'>Origin Content : 꿈을 위한 단상</a> | <a href="/cdn-cgi/l/email-protection#8ae9e9e6e9cae4ebe6eba4edeb" target='_blank'>Contact : <span class="__cf_email__" data-cfemail="c6a5a5aaa586a8a7aaa7e8a1a7">[email&#160;protected]</span></a>
</p>
<p>Cotent License : CC-BY </p>
<p>This content is collected under the CCL license.</p>
<p>Please check the license of the original article before asking about copyright.</p>
<ul>
<li><a href='/tag/Cluster'>More About <span style='font-weight:bold;'>Cluster</span></a></li>
<li><a href='/tag/The'>More About <span style='font-weight:bold;'>The</span></a></li>
<li><a href='/tag/Beginning'>More About <span style='font-weight:bold;'>Beginning</span></a></li>
<li><a href='/tag/Hadoop'>More About <span style='font-weight:bold;'>Hadoop</span></a></li>
<li><a href='/tag/290'>More About <span style='font-weight:bold;'>290</span></a></li>
<li><a href='/tag/설치'>More About <span style='font-weight:bold;'>설치</span></a></li>
</ul>
        </div> <!-- //.entry-summary -->
        
                    <div class="entry-tags"><b>Tags:</b> <a href="http://ms.nala.ga/tag/290/" rel="tag">290</a>, <a href="http://ms.nala.ga/tag/beginning/" rel="tag">Beginning</a>, <a href="http://ms.nala.ga/tag/cluster/" rel="tag">Cluster</a>, <a href="http://ms.nala.ga/tag/hadoop/" rel="tag">Hadoop</a>, <a href="http://ms.nala.ga/tag/the/" rel="tag">the</a>, <a href="http://ms.nala.ga/tag/%ec%84%a4%ec%b9%98/" rel="tag">설치</a></div>
        
    </div>

</article> <!--/#post-->





                                                                    <div class="post-nav-area">
                                                    
            <nav class="next-previous-post clearfix media" role="navigation">
                <div class="row">
                    <!-- Previous Post -->
                    <div class="previous-post col-sm-6 pull-left">
                        <div class="nav-previous"><i class="fa fa-angle-left"></i> <a href="http://ms.nala.ga/%ea%b9%80%ed%83%9c%ed%9d%ac-%ec%a3%bc%ec%97%b0%ec%9d%98-%eb%82%98%ec%99%80-%ec%8a%a4%ed%83%80%ec%9d%98-99%ec%9d%bc-%ed%95%9c%ea%b5%ad%eb%b0%a9%ec%98%81/" rel="prev">김태희 주연의 나와 스타의 99일 한국방영!!</a></div>                    </div>

                    <!-- Next Post -->
                    <div class="next-post col-sm-6 pull-right text-right">
                        <div class="nav-next"><a href="http://ms.nala.ga/%ec%96%b4%eb%94%98%ea%b0%80%ec%9d%98-%ec%84%ac/" rel="next">어딘가의 섬</a> <i class="fa fa-angle-right"></i></div>                    </div>
                </div>
            </nav><!-- .navigation -->
            
                                            </div>
                                
                                
                            
                                            </main> <!-- /.site-main -->
                </div>  <!-- /.content-area -->
            </div> <!-- /col -->

            <!-- Blogsidebar -->
            
	<div class="col-md-4">
	    <div class="primary-sidebar widget-area" role="complementary">
	        <div id="tag_cloud-2" class="widget widget_tag_cloud"><h2 class="widget-title">태그</h2><div class="tagcloud"><a href="http://ms.nala.ga/tag/1%ec%9b%94/" class="tag-cloud-link tag-link-2 tag-link-position-1" style="font-size: 18.440677966102pt;" aria-label="1월 (115 아이템)">1월</a>
<a href="http://ms.nala.ga/tag/2017/" class="tag-cloud-link tag-link-21 tag-link-position-2" style="font-size: 17.016949152542pt;" aria-label="2017 (98 아이템)">2017</a>
<a href="http://ms.nala.ga/tag/2017%eb%85%84/" class="tag-cloud-link tag-link-551 tag-link-position-3" style="font-size: 14.406779661017pt;" aria-label="2017년 (77 아이템)">2017년</a>
<a href="http://ms.nala.ga/tag/2018/" class="tag-cloud-link tag-link-155 tag-link-position-4" style="font-size: 15.830508474576pt;" aria-label="2018 (89 아이템)">2018</a>
<a href="http://ms.nala.ga/tag/2018%eb%85%84/" class="tag-cloud-link tag-link-64 tag-link-position-5" style="font-size: 19.864406779661pt;" aria-label="2018년 (130 아이템)">2018년</a>
<a href="http://ms.nala.ga/tag/the/" class="tag-cloud-link tag-link-310 tag-link-position-6" style="font-size: 11.322033898305pt;" aria-label="the (57 아이템)">the</a>
<a href="http://ms.nala.ga/tag/vs/" class="tag-cloud-link tag-link-128 tag-link-position-7" style="font-size: 8pt;" aria-label="vs (41 아이템)">vs</a>
<a href="http://ms.nala.ga/tag/%ea%b0%80%ea%b2%a9/" class="tag-cloud-link tag-link-275 tag-link-position-8" style="font-size: 12.271186440678pt;" aria-label="가격 (62 아이템)">가격</a>
<a href="http://ms.nala.ga/tag/%ea%b2%b0%ed%98%bc/" class="tag-cloud-link tag-link-501 tag-link-position-9" style="font-size: 20.338983050847pt;" aria-label="결혼 (136 아이템)">결혼</a>
<a href="http://ms.nala.ga/tag/%ea%b3%b5%ea%b0%9c/" class="tag-cloud-link tag-link-260 tag-link-position-10" style="font-size: 9.8983050847458pt;" aria-label="공개 (49 아이템)">공개</a>
<a href="http://ms.nala.ga/tag/%ea%b7%b8%eb%a6%ac%ea%b3%a0/" class="tag-cloud-link tag-link-980 tag-link-position-11" style="font-size: 10.135593220339pt;" aria-label="그리고 (50 아이템)">그리고</a>
<a href="http://ms.nala.ga/tag/%eb%82%98%ec%9d%b4%ec%b0%a8/" class="tag-cloud-link tag-link-1184 tag-link-position-12" style="font-size: 8.2372881355932pt;" aria-label="나이차 (42 아이템)">나이차</a>
<a href="http://ms.nala.ga/tag/%eb%82%a8%ec%9e%90/" class="tag-cloud-link tag-link-364 tag-link-position-13" style="font-size: 9.4237288135593pt;" aria-label="남자 (47 아이템)">남자</a>
<a href="http://ms.nala.ga/tag/%eb%82%a8%ed%8e%b8/" class="tag-cloud-link tag-link-603 tag-link-position-14" style="font-size: 16.305084745763pt;" aria-label="남편 (92 아이템)">남편</a>
<a href="http://ms.nala.ga/tag/%eb%85%b8%eb%9e%98/" class="tag-cloud-link tag-link-713 tag-link-position-15" style="font-size: 8.9491525423729pt;" aria-label="노래 (45 아이템)">노래</a>
<a href="http://ms.nala.ga/tag/%eb%8c%80%ed%95%9c/" class="tag-cloud-link tag-link-3572 tag-link-position-16" style="font-size: 10.135593220339pt;" aria-label="대한 (50 아이템)">대한</a>
<a href="http://ms.nala.ga/tag/%eb%93%9c%eb%9d%bc%eb%a7%88/" class="tag-cloud-link tag-link-1041 tag-link-position-17" style="font-size: 16.542372881356pt;" aria-label="드라마 (95 아이템)">드라마</a>
<a href="http://ms.nala.ga/tag/%eb%a6%ac%eb%b7%b0/" class="tag-cloud-link tag-link-447 tag-link-position-18" style="font-size: 12.508474576271pt;" aria-label="리뷰 (64 아이템)">리뷰</a>
<a href="http://ms.nala.ga/tag/%eb%a7%9b%ec%a7%91/" class="tag-cloud-link tag-link-782 tag-link-position-19" style="font-size: 16.779661016949pt;" aria-label="맛집 (97 아이템)">맛집</a>
<a href="http://ms.nala.ga/tag/%eb%aa%a8%ec%9d%8c/" class="tag-cloud-link tag-link-1142 tag-link-position-20" style="font-size: 13.694915254237pt;" aria-label="모음 (72 아이템)">모음</a>
<a href="http://ms.nala.ga/tag/%eb%aa%b8%eb%a7%a4/" class="tag-cloud-link tag-link-2391 tag-link-position-21" style="font-size: 15.830508474576pt;" aria-label="몸매 (88 아이템)">몸매</a>
<a href="http://ms.nala.ga/tag/%eb%b0%a9%eb%b2%95/" class="tag-cloud-link tag-link-930 tag-link-position-22" style="font-size: 17.491525423729pt;" aria-label="방법 (103 아이템)">방법</a>
<a href="http://ms.nala.ga/tag/%eb%b0%b0%ec%9a%b0/" class="tag-cloud-link tag-link-895 tag-link-position-23" style="font-size: 15.593220338983pt;" aria-label="배우 (86 아이템)">배우</a>
<a href="http://ms.nala.ga/tag/%eb%b6%80%ec%82%b0/" class="tag-cloud-link tag-link-157 tag-link-position-24" style="font-size: 8.4745762711864pt;" aria-label="부산 (43 아이템)">부산</a>
<a href="http://ms.nala.ga/tag/%ec%82%ac%eb%9e%91/" class="tag-cloud-link tag-link-2972 tag-link-position-25" style="font-size: 14.406779661017pt;" aria-label="사랑 (77 아이템)">사랑</a>
<a href="http://ms.nala.ga/tag/%ec%82%ac%ec%a7%84/" class="tag-cloud-link tag-link-410 tag-link-position-26" style="font-size: 9.4237288135593pt;" aria-label="사진 (47 아이템)">사진</a>
<a href="http://ms.nala.ga/tag/%ec%95%84%eb%82%b4/" class="tag-cloud-link tag-link-3039 tag-link-position-27" style="font-size: 9.6610169491525pt;" aria-label="아내 (48 아이템)">아내</a>
<a href="http://ms.nala.ga/tag/%ec%95%88%eb%82%b4/" class="tag-cloud-link tag-link-1327 tag-link-position-28" style="font-size: 11.322033898305pt;" aria-label="안내 (56 아이템)">안내</a>
<a href="http://ms.nala.ga/tag/%ec%95%8c%ec%95%84%eb%b3%b4%ea%b8%b0/" class="tag-cloud-link tag-link-821 tag-link-position-29" style="font-size: 15.118644067797pt;" aria-label="알아보기 (82 아이템)">알아보기</a>
<a href="http://ms.nala.ga/tag/%ec%95%8c%ec%95%84%eb%b3%b4%ec%9e%90/" class="tag-cloud-link tag-link-341 tag-link-position-30" style="font-size: 11.322033898305pt;" aria-label="알아보자 (56 아이템)">알아보자</a>
<a href="http://ms.nala.ga/tag/%ec%97%ac%ed%96%89/" class="tag-cloud-link tag-link-873 tag-link-position-31" style="font-size: 17.016949152542pt;" aria-label="여행 (98 아이템)">여행</a>
<a href="http://ms.nala.ga/tag/%ec%98%81%ed%99%94/" class="tag-cloud-link tag-link-562 tag-link-position-32" style="font-size: 19.389830508475pt;" aria-label="영화 (124 아이템)">영화</a>
<a href="http://ms.nala.ga/tag/%ec%98%a4%eb%8a%98/" class="tag-cloud-link tag-link-1059 tag-link-position-33" style="font-size: 13.694915254237pt;" aria-label="오늘 (72 아이템)">오늘</a>
<a href="http://ms.nala.ga/tag/%ec%9a%b0%eb%a6%ac/" class="tag-cloud-link tag-link-888 tag-link-position-34" style="font-size: 11.322033898305pt;" aria-label="우리 (57 아이템)">우리</a>
<a href="http://ms.nala.ga/tag/%ec%9c%84%ed%95%9c/" class="tag-cloud-link tag-link-1175 tag-link-position-35" style="font-size: 12.983050847458pt;" aria-label="위한 (66 아이템)">위한</a>
<a href="http://ms.nala.ga/tag/%ec%9d%b4%ec%95%bc%ea%b8%b0/" class="tag-cloud-link tag-link-611 tag-link-position-36" style="font-size: 12.508474576271pt;" aria-label="이야기 (64 아이템)">이야기</a>
<a href="http://ms.nala.ga/tag/%ec%9d%b4%ec%9c%a0/" class="tag-cloud-link tag-link-296 tag-link-position-37" style="font-size: 10.372881355932pt;" aria-label="이유 (51 아이템)">이유</a>
<a href="http://ms.nala.ga/tag/%ec%9e%90%ea%b2%a9%ec%a6%9d/" class="tag-cloud-link tag-link-2111 tag-link-position-38" style="font-size: 9.4237288135593pt;" aria-label="자격증 (47 아이템)">자격증</a>
<a href="http://ms.nala.ga/tag/%ec%a0%95%eb%a6%ac/" class="tag-cloud-link tag-link-1831 tag-link-position-39" style="font-size: 13.220338983051pt;" aria-label="정리 (68 아이템)">정리</a>
<a href="http://ms.nala.ga/tag/%ec%a0%95%eb%b3%b4/" class="tag-cloud-link tag-link-89 tag-link-position-40" style="font-size: 15.118644067797pt;" aria-label="정보 (83 아이템)">정보</a>
<a href="http://ms.nala.ga/tag/%ec%b6%94%ec%b2%9c/" class="tag-cloud-link tag-link-146 tag-link-position-41" style="font-size: 22pt;" aria-label="추천 (162 아이템)">추천</a>
<a href="http://ms.nala.ga/tag/%ec%b6%9c%ec%97%b0/" class="tag-cloud-link tag-link-2930 tag-link-position-42" style="font-size: 10.847457627119pt;" aria-label="출연 (54 아이템)">출연</a>
<a href="http://ms.nala.ga/tag/%ed%95%9c%ea%b5%ad/" class="tag-cloud-link tag-link-3361 tag-link-position-43" style="font-size: 11.796610169492pt;" aria-label="한국 (59 아이템)">한국</a>
<a href="http://ms.nala.ga/tag/%ed%9a%a8%eb%8a%a5/" class="tag-cloud-link tag-link-810 tag-link-position-44" style="font-size: 9.6610169491525pt;" aria-label="효능 (48 아이템)">효능</a>
<a href="http://ms.nala.ga/tag/%ed%9b%84%ea%b8%b0/" class="tag-cloud-link tag-link-14 tag-link-position-45" style="font-size: 17.966101694915pt;" aria-label="후기 (109 아이템)">후기</a></div>
</div>	    </div>
	</div>

        </div> <!-- /.row -->
    </div> <!-- /.container -->
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <hr>
            </div>
        </div>
    </div>
    <footer class="site-footer" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 text-center">
  
                    <p></p>
                    
                                            <div class="footer-social-icons">
                                                                                                                                                                                                                                                                                                                                                                                                        
                        </div>
                    
                </div>
            </div>
        </div>
    </footer>

            <div class="scroll-up">
            <a href="#"><i class="fa fa-angle-up"></i></a>
        </div>
        <!-- Scroll Up -->

    <script data-cfasync="false" src="/cdn-cgi/scripts/af2821b0/cloudflare-static/email-decode.min.js"></script><script type='text/javascript' src='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/js/bootstrap.min.js?ver=3.3.5'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/js/scripts.js'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/js/jquery.fitvids.js'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-content/themes/shaped-blog/assets/js/smoothscroll.js'></script>
<script type='text/javascript' src='http://ms.nala.ga/wp-includes/js/wp-embed.min.js?ver=4.8.5'></script>
    </body>
</html>